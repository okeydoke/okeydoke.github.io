
// Debug info: server: WEB520, utc_time: 2014-04-01 23:23:06.226, src_ip: 64.145.75.136, method: HTTP/GET, api key: 2_LqtE7f0QPbH8tn_hBxduplimF1mHNJe5lnS18B-pO_Qx7WOlxoHMJGlpcfFix_P7, site found?: True
if (typeof gigya == 'undefined' || !gigya.isGigya) { gigya = { isGigya: true } };
if (!gigya.__initialized) {
gigya.__initialized = true;

gigya.env='prod';
gigya.gaeDomain='chat.gigya.com';
gigya.build={version:'5.0.5',time:'Tue 04/01/2014 20:45:52.49'};
if (typeof gigya.partnerSettings == 'undefined') {
    gigya.partnerSettings={authMode:'cookie',baseDomains:'luludevelopment.com'};
    gigya.partnerSettings.plugins={"apiDomain":"US1.gigya.com"};
}

// API adapters
var gigya;
(function(b){(function(d){(function(d){(function(c){(function(c){function d(e,a){a=b.utils.object.clone(a);if(b.partnerSettings.ssoKey){var h=f();a||(a={});var c=a.callback;a.callback=function(a){b.log.addLog("SSO: About to invoke callback for "+e+" with this response",a);c&&c(a)};a.m=e;a.d=g;a.lid=b.utils.xd._flashListenerID;a.legacyCrossSiteMethod&&"localstorage"!=a.legacyCrossSiteMethod.toLowerCase()&&(a.lid=a.legacyCrossSiteMethod+":"+b.utils.xd._flashListenerID);"function"==typeof a.callback&&(a.callbackID=
"gig_sso_cb"+(new Date).getTime(),b.utils.xd.addMessageListener(a.callbackID,{},!1,a.callback),delete a.callback);a.sAPIKey=b.thisScript.APIKey;var n=b.utils.keyValue.serialize(a);h.src="https://cdns.gigya.com/gs/sso.htm?APIKey="+b.partnerSettings.ssoKey+"&version=1";var k=function(){h.src="https://cdns.gigya.com/gs/sso.htm?APIKey="+b.partnerSettings.ssoKey+"&version=1#"+(new Date).getTime()+"&"+n;b.utils.DOM.removeEventListener(h,"load",k)};b.utils.DOM.addEventListener(h,"load",k);b.log.addLog("SSO: Calling "+
e,{SSOKey:b.partnerSettings.ssoKey,params:a});document.body?b.utils.DOM.appendToBody(h):b.utils.functions.invokeOnPageLoad(function(){b.utils.DOM.appendToBody(h)})}else a&&a.callback&&a.callback()}function f(){var a=document.getElementById("gig_sso");a||(a=document.createElement("iframe"),a.style.width="30px",a.style.height="10px",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.id="gig_sso");return a}function a(a){d("setToken",a)}var g=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];
c.getGroupToken=function(a){d("getToken",a)};c.setGroupTokenFromResponse=function(b,g,h){b.sessionInfo&&(b=b.sessionInfo);var c=b.expires_in,c=null==c||""===c||isNaN(c)?47304E7:0==c?null:1E3*c,f=new Date;f.setTime(f.getTime()+c);a({lt:b.login_token,expiration:null==c?0:f.getTime(),legacyCrossSiteMethod:h,callback:g})};c.setGroupToken=a;c.logout=function(a){d("logout",a)};c.removeGroupToken=function(a){d("removeToken",a)}})(c.sso||(c.sso={}))})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||
(b._={}))})(gigya||(gigya={}));
(function(b){(function(d){(function(m){(function(c){var k=function(){function k(b,a,g,e,l){"undefined"===typeof l&&(l={});this.baseUrl=b;this.methodName=a;this.params=g;this.callback=e;this.settings=l}k.prototype.getUrl=function(){return this.baseUrl+"/"+this.methodName};k.prototype.send=function(b){};k.prototype.getAuthParams=function(){var f={};if(this.params.oauth_token)this.params.authMode="token";else{var a=c.tokenStore.get(this.params.APIKey);if(a){this.sentLoginToken=a;var g=b.utils.cookie.get("gltexp_"+
this.params.APIKey);null!=g&&(f.loginTokenExp=g);f.login_token=a}a=d.apiAdapter.getGcid();g=d.apiAdapter.getUcid();0==this.baseUrl.indexOf("https:")&&a&&(f.gcid=a);g&&(f.ucid=g);f.authMode="cookie"}return f};return k}();c.BaseRequest=k})(m.web||(m.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||(b._={}))})(gigya||(gigya={}));var __extends=this.__extends||function(b,d){function m(){this.constructor=b}for(var c in d)d.hasOwnProperty(c)&&(b[c]=d[c]);m.prototype=d.prototype;b.prototype=new m};
(function(b){(function(d){(function(d){(function(c){c.callback=function(b,f){!f&&b&&(f=b.context);if(f){var a=c.pendingRequests[f];a&&a.handleResponse(b)}};var k=function(k){function f(a,b,e,l,h,c){"undefined"===typeof c&&(c={});k.call(this,b,e,l,h,c);this.id=a;this.ifrName="gigyaPostIframe_"+(new Date).getTime();this.retry=0}__extends(f,k);f.prototype.addDefaultParams=function(){this.params.format="jsonp";this.params.callback=f.callbackName;this.params.context=this.id;b.utils.object.add(this.params,
this.getAuthParams());this.sentLoginToken=this.params.login_token};f.prototype.getCacheKey=function(){return this.methodName+"_"+b.utils.keyValue.serialize(this.params)};f.prototype.send=function(a){var g=this;if(!this.inProgress){c.pendingRequests[this.id]=this;this.inProgress=!0;this.params.sdk="js_"+b.build.version;this.addDefaultParams();var e=b.utils.keyValue.serialize(this.params);if(!a&&this.settings.cacheTimeout)e=this.getCacheKey(),b.utils.sessionCache.get(e,this.settings.cacheTimeout,function(a){a?
(delete g.settings.cacheTimeout,d.web.callback(a,g.id)):(g.inProgress=!1,g.send(!0))});else{a=0;b.localInfo.isIE&&(a=2048);var l=this.getUrl();4096>=l.length+1+e.length+a&&!this.settings.forcePost?b.utils.script.load(l+"?"+e,function(){d.web.callback({context:g.id,errorCode:500026,errorMessage:"Network_error"})}):b.utils.functions.invokeOnPageLoad(function(){var a=document.getElementById("gigyaRequestForms");null==a&&(a=document.createElement("span"),a.id="gigyaRequestForms",a.style.display="none",
b.utils.DOM.appendToBody(a));var e=g.getPostContainer();a.appendChild(e)})}}};f.prototype.createParamFormElements=function(){var a=[],g="";for(g in this.params)a=a.concat(['<textarea name="',g,'">']),"object"==typeof this.params[g]?a.push(b.utils.URL.URLEncode(b.utils.JSON.serialize(this.params[g]))):a.push(this.params[g]),a.push("</textarea>");return a.join("")};f.prototype.getPostContainer=function(){var a=this;if(!this.postContainer){var g=document.createElement("span"),e=this.ifrName+"form",l=
this.id;g.innerHTML=['<form accept-charset="UTF-8" id="',e,'" method="post" action="',this.getUrl(),"?context="+this.id+"&saveResponseID="+this.id+'" target="',this.ifrName,'">',this.createParamFormElements(),'<input name="utf8" type="hidden" value="&#x2713;" /><input type="submit" value="" /></form>'].join("");var h,c=b.utils.DOM.createElement("iframe",this.ifrName);c.setAttribute("id",this.ifrName);b.localInfo.isIE6&&c.setAttribute("src",b.thisScript.base+"/wildfire/DO_NOT_DELETE.htm");b.utils.DOM.addEventListener(c,
"load",function(){h?a.getSavedFormResponse(l):(window.setTimeout(function(){var a=document.getElementById(e);a&&a.submit()},10),h=!0)});g.appendChild(c);this.postContainer=g}return g};f.prototype.getSavedFormResponse=function(a){var b=this;(new f(a,this.baseUrl,"socialize.getSavedResponse",{APIKey:this.params.APIKey,saveResponseID:this.id},function(a){b.handleResponse(a)})).send()};f.prototype.getDataPendingTimeout=function(a){return 4>=a?500:8>=a?1E3:21>=a?2E3:39>=a?5E3:-1};f.prototype.handleResponse=
function(a){var g=this;this.settings.cacheTimeout&&b.utils.sessionCache.set(this.getCacheKey(),0==a.errorCode?a:null);null!=this.retryTimerID&&window.clearTimeout(this.retryTimerID);this.loaded=!0;this.inProgress=!1;100001==a.errorCode?(a=this.getDataPendingTimeout(this.retry++),0<a&&window.setTimeout(function(){g.send()},a)):(this.dispose(),this.callback(a))};f.prototype.dispose=function(){delete c.pendingRequests[this.id];b.utils.DOM.removeElement(this.getPostContainer())};f.callbackName="gigya._.apiAdapters.web.callback";
return f}(c.BaseRequest);c.JsonpRequest=k})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||(b._={}))})(gigya||(gigya={}));
(function(b){(function(d){(function(d){(function(c){var d=function(c){function f(a,b,e,l,h){"undefined"===typeof h&&(h={});c.call(this,a,b,e,l,h);this.windowName=this.methodName.replace(/\./g,"_").replace(/\//g,"")+"_"+(new Date).getTime();this.requestID=this.windowName+(new Date).getTime()}__extends(f,c);f.prototype.beforeRequest=function(){};f.prototype.afterResponse=function(a){a.dontClose&&"false"!=a.dontClose||b.utils.win.close(this.windowName);this.callback(a)};f.prototype.getAuthFlow=function(){return this.params.authFlow?
this.params.authFlow:"popup"};f.prototype.getStateString=function(){var a=b.utils.xd._flashListenerID;if(this.params.legacyCrossSiteMethod&&"localstorage"!=this.params.legacyCrossSiteMethod.toLowerCase()||b.localInfo.isIE&&window.navigator.msDoNotTrack)a=this.params.legacyCrossSiteMethod+":"+b.utils.xd._flashListenerID;var g=this.getAuthFlow(),a={domain:document.location.href.split("?")[0].split("#")[0],id:this.requestID,lid:a,messaging:b.localInfo.messagingMethod};if("redirect"==g||b.localInfo.isWindowsPhone)a.sourceURL=
window.top.document.location.href,this.params.redirectURL?(a.redirectURL=b.utils.URL.addParamsToURL(this.params.redirectURL,{gig_events:b.events.global.getEventsForOperation(this.methodName)}),a.addUserInfo=!0,this.params.redirectMethod&&(a.redirectMethod=this.params.redirectMethod)):a.sourceURL=b.utils.URL.addParamsToURL(a.sourceURL,{gig_events:b.events.global.getEventsForOperation(this.methodName)});this.params.provider&&"facebook"==this.params.provider.toLowerCase()&&(a.invite=this.params.invite);
(g=b.external.backplane.getChannelId())&&(a.bp_channel_url=g);return b.utils.keyValue.serialize(a)};f.prototype.getServerParamsString=function(){var a={},g;for(g in this.params)0!=g.indexOf("x_")&&null!=this.params[g]&&(a["x_"+g]=this.params[g],delete a[g]);a.x_APIKey&&(a.client_id=a.x_APIKey,delete a.x_APIKey);a.x_oauth_token&&(a.oauth_token=a.x_oauth_token,delete a.x_oauth_token);a.x_oauth_token&&(a.oauth_token=a.x_oauth_token,delete a.x_oauth_token);a.redirect_uri="/GS/AfterLogin.aspx";a.response_type=
this.params.authCodeOnly?"code":"server_token";a.format="jsonp";a.x_sdk="js_"+b.build.version;(g=b.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(a.x_refUID=g);(g=b.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(a.x_refUID=g);a.state=this.getStateString();b.utils.object.add(a,this.getAuthParams());delete a.redirectURL;this.sentLoginToken=a.login_token;return b.utils.keyValue.serialize(a)};f.prototype.send=function(){var a=this;this.beforeRequest();var g=this.getServerParamsString(),
e;this.params.provider&&(e=b.socialize._getProviderByName(this.params.provider.toLowerCase()));var c=null;null!=e&&(c=(this.params.enablePopupLocation?"location=1,toolbar=1":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+e.width+",height="+e.height);var h=this.methodName.split(".");b.reports.report(h[h.length-1],this.params.APIKey,this.params.cid,this.params.source,this.params.sourceData,{sn:e?e.toString():null});g=this.getUrl()+"?"+g;"redirect"==this.getAuthFlow()?window.top.document.location.href=
g:(b.utils.xd.addMessageListener(this.requestID,{},!0,function(b){a.afterResponse(b)}),b.utils.win.open(g,this.windowName,c))};return f}(c.BaseRequest);c.OauthRequest=d})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||(b._={}))})(gigya||(gigya={}));
(function(b){(function(d){(function(d){(function(c){(function(d){function m(a){a||(a=b.thisScript.APIKey);return a?"glt_"+a:"_gig_lt"}var f={};d.activeNamespaces={};d.get=function(a){return(a=b.utils.cookie.get(m(a)))?a.split("|")[0]:null};d.set=function(a,g,e,c){b.utils.localStorage.removeItem("gigyaSettings");a||(a=b.thisScript.APIKey);a?(b.utils.cookie.set("glt_"+a,g,e),b.utils.cookie.remove("gac_"+a)):b.utils.cookie.set("_gig_lt",g,e)};d.setFromGAC=function(a,g){if(b.thisScript.APIKey){var e=
b.utils.cookie.get("gac_"+b.thisScript.APIKey);e&&!a.neverTryGAC?('"'==e.charAt(0)&&'"'==e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),f[e]?g():(f[e]=!0,b.socialize.notifyLogin({ignoreApiQueue:!0,neverTryGAC:!0,authCode:e,APIKey:b.thisScript.APIKey,client_id:b.thisScript.APIKey},{callback:function(){b.utils.cookie.remove("gac_"+b.thisScript.APIKey);g();b.socialize.refreshUI({neverTryGAC:!0})}}))):g()}else g()};d.setFromSsoResponse=function(a,g){"undefined"===typeof g&&(g=b.thisScript.APIKey);
0==a.errorCode&&(d.set(g,a.login_token,a.expires_in),b.events.global.dispatchWhenHandlerAdded({eventName:"socialize.login"},null,function(a,g){b.socialize.getUserInfo({signIDs:!0,callback:function(c){a||(a={});0==c.errorCode?(a=b._.addUserInfoToEvent(c,{eventName:"login"},!0),b.external.backplane.executeOnInit(function(){b.external.backplane.getChannelId()&&b.socialize.notifySSOLogin({bp_channel_url:b.external.backplane.getChannelId()})})):a.cancel=!0;g(a)}})}),b.events.global.dispatchWhenHandlerAdded({eventName:"accounts.login"},
null,function(a,g){b.accounts.getAccountInfo({include:"profile,data",includeUserInfo:!1,callback:function(c){a||(a={});0==c.errorCode?(a.eventName="accounts.login",b.utils.object.extractProperties(c,a,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data")):a.cancel=!0;g(a)}})}))};d.remove=function(a){c.sso.removeGroupToken();a||(a=b.thisScript.APIKey);b.utils.cookie.remove("glt_"+a);b.utils.cookie.remove("_gig_lt")};d.migrateExisting=function(){var a=b.utils.cookie.get("_gig_lt");
a&&b.thisScript.APIKey&&!d.get()&&(b.utils.cookie.remove("_gig_lt"),d.set(null,a))};d.getTokenParam=function(a,g){var e=b.utils.cookie.get(m(a));if(e)return e=e.split("|"),1<e.length?b.utils.keyValue.deserialize(e[1])[g]:null}})(c.tokenStore||(c.tokenStore={}))})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||(b._={}))})(gigya||(gigya={}));gigya.isGigya||(gigya.isGigya=!0);
(function(b){(function(d){(function(d){(function(c){var d,m;c.callbacks={};c.pendingRequests={};var f=function(){function a(){this.name="Web"}a.prototype.init=function(a){var e=this;b.utils.functions.createAlias("gigya.auth.loginToken.get",c.tokenStore.get);this.getIds(function(){e.checkReturnFromURL();e.isSessionValid(void 0,function(b){b?a():c.sso.getGroupToken({callback:function(b){b&&c.tokenStore.setFromSsoResponse(b);a()}})})})};a.prototype.isSessionValid=function(a,b){"undefined"===typeof a&&
(a={});c.tokenStore.setFromGAC(a,function(){if(b){var l=null!=c.tokenStore.get()||null!=a.oauth_token;b(l)}})};a.prototype.getUcid=function(){return m};a.prototype.getGcid=function(){return d};a.prototype.registerForNamespaceEvents=function(a){};a.prototype.onPluginEvent=function(a){};a.prototype.sendRequest=function(a,b,l,h){"undefined"===typeof h&&(h={});var d=this;this.beforeRequest(a,b,h);var f=this.getBaseUrl(a,b,h),k=this.getRequestId(f,a,b,h.disableCache);c.callbacks[k]=c.callbacks[k]||[];
c.callbacks[k].push(l);if(!c.pendingRequests[k]){var m=new c.JsonpRequest(k,f,a,b,function(a){d.afterResponse(m,a,function(a){d.dispatchCallbacks(k,a)})},h);m.send()}};a.prototype.sendOauthRequest=function(a,b,l,h){var d=this;this.beforeRequest(a,b,h);var f=this.getBaseUrl(a,b,h),k=new c.OauthRequest(f,a,b,function(a){d.afterResponse(k,a,function(a){l(a)})},h);k.send()};a.prototype.getBaseUrl=function(a,e,l){a=a.split(".");a=b.utils.stringUtils.format("{0}.{1}",a[0],b.partnerSettings.plugins.apiDomain);
return(l.forceHttps||c.tokenStore.get()||e.regToken||e.oauth_token||"https"==b.thisScript.protocol?"https://":"http://")+a};a.prototype.getIds=function(a){var e=b.partnerSettings.ssoKey||b.thisScript.APIKey;if(e){var c=!1;if(b.localInfo.isSafari)try{window.localStorage.setItem("gigTest","1"),window.localStorage.removeItem("gigTest")}catch(h){h.code===DOMException.QUOTA_EXCEEDED_ERR&&0===window.localStorage.length&&(c=!0)}if(b.localInfo.supportsLocalStorage&&"1"!=b.utils.cookie.get("gig3pc")&&!c){b.global._onIDs=
function(e){e&&e.data&&e.data.indexOf&&(-1!=e.data.indexOf("gig3pc=true")?(b.utils.cookie.set("gig3pc","1",172800,b.partnerSettings.baseDomain),a()):0==e.data.indexOf("gcid=")&&(e=b.utils.keyValue.deserialize(e.data),b.log.addLog("Safari IDs Proxy: Got callback with this response",e),e&&("-1"!=e.gcid&&(d=e.gcid),"-1"!=e.ucid&&(m=e.ucid)),(e=b.global.ifrGcid)&&e.parentNode&&e.parentNode.removeChild(e),delete b.global.ifrGcid,b.utils.DOM.removeEventListener(window,"message",b.global._onIDs),delete b.global._onIDs,
a()))};b.utils.DOM.addEventListener(window,"message",b.global._onIDs);var f=document.createElement("iframe"),c=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2];f.src="https://cdns.gigya.com/gs/gigIDsProxy.htm?APIKey="+encodeURIComponent(e)+"&domain="+encodeURIComponent(c)+"&apiDomain="+encodeURIComponent(b.partnerSettings.plugins.apiDomain);f.style.width="30px";f.style.height="10px";f.style.position="absolute";f.style.top="-1000px";f.style.left="-1000px";
b.global.ifrGcid=f;b.log.addLog("Gigya IDs Proxy: Calling getIDs",{apiKey:e,domain:c});document.body?b.utils.DOM.appendToBody(f):b.utils.functions.invokeOnPageLoad(function(){b.utils.DOM.appendToBody(f)})}else a()}else a()};a.prototype.beforeRequest=function(a,b,d){"undefined"===typeof d&&(d={});d.clearSession&&c.tokenStore.remove(b.APIKey)};a.prototype.afterResponse=function(a,b,c){var h=this;this.handleTokenResponse(a,b,function(){h.logoutSsoIfNeeded(a,b,function(){c(b)})})};a.prototype.onSDKEvent=
function(a){};a.prototype.getTokenParam=function(a,b){return c.tokenStore.getTokenParam(a,b)};a.prototype.checkReturnFromURL=function(){var a=b.utils.URL.getParamsFromURL(document.location.href);a.gig_events&&0==a.errorCode&&null!=c.tokenStore.get()&&c.sso.setGroupTokenFromResponse({errorCode:0,login_token:c.tokenStore.get(),expires_in:a.expires_in},function(){var e=a.gig_events.split(",");-1!=b.utils.array.indexOf(e,"accounts.login")?b.accounts.getAccountInfo({include:"profile,data,userinfo",callback:function(a){var g=
{errorCode:0,eventName:"accounts.login"};b.utils.object.extractProperties(a,g,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");b.events.global.dispatchWhenHandlerAdded(g);-1!=b.utils.array.indexOf(e,"socialize.login")&&(a=b._.addUserInfoToEvent(a,{errorCode:0,eventName:"socialize.login"},!0),b.events.global.dispatchWhenHandlerAdded(a))}}):b.socialize.getUserInfo({signIDs:!0,callback:function(a){for(var g=0;g<e.length;g++){var c=b._.addUserInfoToEvent(a,{errorCode:0,eventName:e[g]},
!0);b.events.global.dispatchWhenHandlerAdded(c)}}})},b.thisScript.globalConf.legacyCrossSiteMethod)};a.prototype.setNewLoginTokenFromResponse=function(a,b,d){var h=b.sessionInfo?b.sessionInfo.login_token:b.login_token;h?(c.tokenStore.set(a.params.APIKey,h,null!=b.sessionInfo?b.sessionInfo.expires_in:b.expires_in,a.params.legacyCrossSiteMethod),c.sso.setGroupTokenFromResponse(b,d,a.params.legacyCrossSiteMethod)):d()};a.prototype.onInvalidTokenResponse=function(a,b){c.sso.getGroupToken({callback:function(d){d&&
d.login_token&&d.login_token.split("|")[0]!=a.sentLoginToken?(c.tokenStore.setFromSsoResponse(d,a.params.APIKey),a.send()):(c.tokenStore.remove(a.params.APIKey),a.settings.requiresSession?b():(delete a.params.login_token,delete a.sentLoginToken,a.send()))}})};a.prototype.handleTokenResponse=function(a,e,d){var h=this;e=b.utils.object.clone(e);403030==e.errorCode&&this.shouldWaitForService(a,e)||(a.sentLoginToken&&b._.logoutMethods[a.methodName]&&0==e.errorCode&&c.tokenStore.remove(a.params.APIKey),
this.setNewLoginTokenFromResponse(a,e,function(){if(a.sentLoginToken&&403005==e.errorCode)h.onInvalidTokenResponse(a,d);else d()}))};a.prototype.logoutSsoIfNeeded=function(a,e,d){var h=this;b.partnerSettings.ssoKey&&b._.logoutMethods[a.methodName]&&0==e.errorCode?document.location.href!=b.partnerSettings.ssoLogoutUrl?c.sso.logout({callback:function(a){h.loadLogoutUrls(a.logoutURLs.split(","),d,{UID:e.UID,UIDSignature:e.UIDSignature,signatureTimestamp:e.signatureTimestamp})}}):d():d()};a.prototype.loadLogoutUrls=
function(a,c,d){for(var h=0,f=0;f<a.length;f++){var k=b.utils.URL.addParamsToURL(a[f],d);this.loadLogoutUrl(k,function(){h++;h>=a.length&&c()})}};a.prototype.loadLogoutUrl=function(a,c,d){"undefined"===typeof d&&(d=5E3);var h=document.createElement("iframe");h.src=a;h.style.position="absolute";h.style.top="-1000px";h.style.left="-1000px";var f=!1;window.setTimeout(function(){f||(f=!0,h.parentElement.removeChild(h),c())},d);h.onload=h.onreadystatechange=function(){f||h.readyState&&"complete"!=h.readyState||
(f=!0,h.parentElement.removeChild(h),c())};b.utils.DOM.appendToBody(h)};a.prototype.shouldWaitForService=function(a,c){return!0==a.params.retryPossible?(a.params.retryPossible=!1,b.external.facebook.runWhenLoaded(function(){a.send()}),!0):!1};a.prototype.dispatchCallbacks=function(a,e){var d=c.callbacks[a];if(d)for(var f=0;f<d.length;f++)if("function"==typeof d[f])d[f](b.utils.object.clone(e));delete c.callbacks[a]};a.prototype.getRequestId=function(a,c,d,f){var k=-1!=navigator.userAgent.toLowerCase().indexOf("safari/534");
if(f||k)a="R"+(new Date).getTime()+"_"+Math.random();else{d=b.utils.object.clone(d);for(var m in d)0!=m.indexOf("fb_")&&"source"!=m&&"sourceData"!=m||delete d[m];a="R"+b.utils.object.getMurmurHash(a+c+b.utils.object.getHash(d))}return a};return a}();c.WebAdapter=f})(d.web||(d.web={}))})(d.apiAdapters||(d.apiAdapters={}))})(b._||(b._={}))})(gigya||(gigya={}));
var gigya;
(function(f){(function(c){(function(c){(function(c){c.mobileCallbacks={};c.showPlugin=function(a,b){var d,e=a.split(".");1<e.length?(a=e.splice(e.length-1,1)[0],e=e.join(".")):e="socialize";"commentsUI"==a&&(e="comments");d||(d="show"+f.utils.stringUtils.capitalize(a));eval("gigya."+e+"."+d)(b)};var l=function(){function a(){this.name="Mobile"}a.prototype.init=function(b){var d=this;f.events.addMap({defaultMethod:function(b){d.onPluginEvent(b)},eventMap:[{events:"*",args:["$event"]}]});this.sendToMobile("get_ids",
null,function(a){d.ucid=a.ucid;d.gcid=a.gcid;for(var c in f.events.global._activeNamespaces)d.registerForNamespaceEvents(c);b()})};a.prototype.getTokenParam=function(b,a){return""};a.prototype.getUcid=function(){return this.ucid};a.prototype.getGcid=function(){return this.gcid};a.prototype.onPluginEvent=function(b){b.isGlobal||this.sendToMobile("on_plugin_event",b)};a.prototype.onCustomEvent=function(b){this.sendToMobile("on_custom_event",b)};a.prototype.registerForNamespaceEvents=function(b){this.sendToMobile("register_for_namespace_events",
{namespace:b})};a.prototype.isSessionValid=function(b,a){this.sendToMobile("is_session_valid",b,a)};a.prototype.sendRequest=function(b,a,e,c){this.sendToMobile("send_request/"+b,a,e,c)};a.prototype.sendOauthRequest=function(b,a,c,f){this.sendToMobile("send_oauth_request/"+b,a,c,f)};a.prototype.sendToMobile=function(a,d,e,k){var g=document.createElement("iframe");g.style.display="none";document.documentElement.appendChild(g);d&&delete d.APIKey;if(e){var h=(new Date).getTime()+"_"+Math.random();c.mobileCallbacks[h]=
function(a){e(a);document.documentElement.removeChild(g);delete c.mobileCallbacks[h]}}a="gsapi://"+a+"?callbackID="+(h||"")+"&params="+(d?encodeURIComponent(f.utils.keyValue.serialize(d)):"")+"&settings="+(k?encodeURIComponent(f.utils.keyValue.serialize(k)):"");g.src=a};a.prototype.onSDKEvent=function(a){a&&a.user&&f._.convertIdentitiesArrayToObject(a.user);f.events.global.dispatch(a)};return a}();c.MobileAdapter=l})(c.mobile||(c.mobile={}))})(c.apiAdapters||(c.apiAdapters={}))})(f._||(f._={}))})(gigya||
(gigya={}));

// end API adapters
var gigya;
(function(a){var c=navigator.userAgent.toLowerCase(),b=new Date,k=document.location.href.split("?")[0].split("#")[0].split("/")[2].split(":")[0],e=-1!=c.indexOf("win"),f=-1!=c.indexOf("msie")||-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident"),d=-1!=c.indexOf("msie 6."),g=-1!=c.indexOf("msie 7."),h=-1!=c.indexOf("msie 8."),m=-1!=c.indexOf("msie 9."),n=-1!=c.indexOf("mozilla")&&-1!=c.indexOf("trident/7.0"),l=-1!=c.indexOf("iphone")||-1!=c.indexOf("ipad")||-1!=c.indexOf("ipod"),r;r=-1!=c.indexOf("applewebkit")&&-1!=
c.indexOf("version/")?parseInt(c.split("version/")[1].split(" ")[0]):0;var p=-1!=c.indexOf("android"),q;q=-1!=c.indexOf("android")?parseFloat(c.slice(c.indexOf("android")+8)):0;var t=-1!=c.indexOf("chrome"),s=-1!=c.indexOf("firefox"),v=-1!=c.indexOf("opera"),u=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("safari")&&-1==navigator.appVersion.toLowerCase().indexOf("chrome")&&-1==c.indexOf("android"),w=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),y=
-1!=c.indexOf("crios"),z=navigator.appVersion&&-1!=navigator.appVersion.toLowerCase().indexOf("mac")?!0:!1,A=-1!=c.indexOf("windows phone"),B=null!=window.postMessage&&(-1==c.indexOf("msie")||-1!=c.indexOf("iemobile")),C=null!=window.localStorage,D="BackCompat"==document.compatMode&&-1!=c.indexOf("msie"),E="BackCompat"==document.compatMode,x;a:{x="iphone;android;midp;240x320;blackberry;netfront;nokia;panasonic;portalmmm;sharp;sie-;sonyericsson;symbian;windows ce;benq;mda;mot-;opera mini;philips;pocket pc;sagem;samsung;htc".split(";");
for(var F in x)if(-1!=c.indexOf(x[F])){x=!0;break a}x=!1}a.localInfo={initTime:b,version:0,pageDomain:k,userAgent:c,isWin:e,isIE:f,isIE6:d,isIE7:g,isIE8:h,isIE9:m,isIE11:n,isIOS:l,iosVersion:r,isAndroid:p,androidVersion:q,isChrome:t,isFF:s,isOpera:v,isSafari:u,isIOSWebView:w,isIOSChrome:y,isMAC:z,isWindowsPhone:A,supportsPostMessage:B,supportsLocalStorage:C,quirksMode:D,backCompat:E,isMobile:x,isTouch:"ontouchstart"in window||"onmsgesturechange"in window,messagingMethod:0}})(gigya||(gigya={}));
(function(a){var c=navigator.userAgent.toLowerCase();(function(b){(function(a){a.indexOf=function(a,d){for(var g=0;g<a.length;g++)if(a[g]==d)return g;return-1};a.clone=function(a){for(var d=[],g=0;g<a.length;g++)d[g]=a[g];return d};a.removeByProperty=function(a,d,g){if(a)for(var h=a.length-1;0<=h;h--)a[h][d]==g&&a.splice(h,1)}})(b.array||(b.array={}));(function(a){a.create=function(a,d){for(var g=0;g<arguments.length-2;g++);return function(){return d.apply(a,arguments)}}})(b.delegate||(b.delegate=
{}));(function(b){b.fill=function(f,d){"function"==typeof f&&(f=f(d));f instanceof Array&&(f=f.join(""));var g=/(\$)(!?)([a-z_][a-z_.\d]*)([(][^()]*[)])?|(\$)(!?)\{([a-z_][a-z_.\d]*)([(][^()]*[)])?\}/gi;g.lastIndex=0;for(var h=f,m=g.exec(h),b;null!=m;){b="$"==m[1]?0:4;var c="!"==m[2+b],e=m[3+b];b=m[4+b];null==b&&(b="");"."==e.substring(0,1)&&(e=e.substring(1));"DBG"==e.substring(0,3)&&(e=e.substring(3));var p="";for(b=e+b;b!=p;){var p=b,k=g.lastIndex;b=a.utils.templates.fill(p,d);g.lastIndex=k}p=
"";k=0;if(null!=d[e.split(".")[0]])try{p=(new Function("o","p",'return eval("o." + p)'))(d,b)}catch(t){}else p="$"+(c?"!":"")+b,k=1;h=c?h.replace(m[0],""):h.substr(0,m.index)+p+h.substr(m.index+m[0].length);g.lastIndex=m.index+k;m=g.exec(h)}return h}})(b.templates||(b.templates={}));(function(b){b.callFunction=function(a,d){var g=eval(a),h=a.split(".");h.splice(h.length-1,1);h=eval(h.join("."));g.apply(h,d)};b.invokeOnPageLoad=function(f,d){if(!document.readyState&&document.body||"loaded"==document.readyState||
"complete"==document.readyState||!d&&"interactive"==document.readyState&&document.body)f();else{var g=!1,h=function(){g||(g=!0,f())};window.setTimeout(h,2E4);a.utils.DOM.addEventListener(window,"load",h);a.utils.DOM.addEventListener(document,"DOMContentLoaded",h)}};b.createAlias=function(a,d){for(var g=a.split("."),h=window,m=0;m<g.length-1;m++){var b=g[m];h[b]||(h[b]={});h=h[b]}h[g[g.length-1]]=d}})(b.functions||(b.functions={}));(function(b){var f={};b.open=function(d,g,h){if(a.localInfo.isIE&&
2048<d.length||4096<d.length)a.utils.redirect(d.split("?")[0],[a.utils.URL.getParamsFromURL(d)],"POST","_blank");else{h||(h="menubar=0,toolbar=0,resizable=1,scrollbars=1,width=960,height=680");var m=h;try{var b=parseInt(h.split("width=")[1].split(",")[0]),c=parseInt(h.split("height=")[1].split(",")[0]),e=(screen.width-b)/2,p=(screen.height-c)/2;0>e&&(e=0);0>p&&(p=0);m+=",top="+p+",left="+e}catch(k){}(d=window.open(d,g,m))&&d.focus&&d.focus();f[g]=d}return null!=f[g]};b.close=function(d){if(null!=
f[d]){var g=function(){try{null!=f[d]&&f[d].close(),delete f[d]}catch(a){}};6<=a.localInfo.iosVersion?g():window.setTimeout(g,10)}}})(b.win||(b.win={}));(function(a){a.isExplicitTrue=function(a){a=(""+a).toLowerCase();return"true"==a||"1"==a};a.isExplicitFalse=function(a){a=(""+a).toLowerCase();return"false"==a||"0"==a}})(b.validation||(b.validation={}));(function(b){function f(a,d,g){if(!d)return a;d=d.split(".");for(var b=0;b<d.length;b++){var f=d[b];g&&!a[f]&&(a[f]={});if(a[f])a=a[f];else return null}return a}
function d(a,g,f,b,c,e){c||(c=0);if("undefined"==typeof a||null==a||"function"==typeof a&&f)return null;if(a.constructor==Array){for(var k=[],t=0;t<a.length;t++)f&&"function"==typeof a[t]||(k[t]=g?d(a[t],g,f,b,c+1,e):a[t]);return k}if("object"==typeof a){k={};for(t in a)e&&"context"==t||f&&"function"==typeof a[t]||(k[t]=g?d(a[t],g,f,b,c+1,e):a[t]);return k}return a}function g(d,f,b){if(null!=d){null==f&&(f={});if(d.constructor==Array)for(var c=0;c<d.length;c++)g(d[c],f,b);else if(b){b=b.split("|");
var e={};for(c in d)e[c.toLowerCase()]=1;for(var p=0;p<b.length;p++)c=b[p],e[c.toLowerCase()]&&(f[c]=d[c])}else f=a.utils.object.clone(d,!1);return f}}b.removeUndefined=function(a){var d={},g;for(g in a)null!=a[g]&&void 0!=a[g]&&(d[g]=a[g]);return d};b.getPropertyBySerializedName=f;b.setPropertyBySerializedName=function(a,d,g){d=d.split(".");var b=d.pop();f(a,d.join("."),!0)[b]=g};b.add=function(a,d){for(var g in d)a[g]=d[g]};b.getHash=function(a){var d=[],g;for(g in a)d.push(g+"="+a[g]);return d.sort().join("&")};
b.getMurmurHash=function(a,d){d||(d=0);var g,f,b,c,e;g=a.length&3;f=a.length-g;b=d;for(e=0;e<f;)c=a.charCodeAt(e)&255|(a.charCodeAt(++e)&255)<<8|(a.charCodeAt(++e)&255)<<16|(a.charCodeAt(++e)&255)<<24,++e,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,c=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295,b^=c,b=b<<13|b>>>19,b=5*(b&65535)+((5*(b>>>16)&65535)<<16)&4294967295,b=(b&65535)+27492+(((b>>>16)+58964&65535)<<16);c=0;switch(g){case 3:c^=(a.charCodeAt(e+
2)&255)<<16;case 2:c^=(a.charCodeAt(e+1)&255)<<8;case 1:c^=a.charCodeAt(e)&255,c=3432918353*(c&65535)+((3432918353*(c>>>16)&65535)<<16)&4294967295,c=c<<15|c>>>17,b^=461845907*(c&65535)+((461845907*(c>>>16)&65535)<<16)&4294967295}b^=a.length;b^=b>>>16;b=2246822507*(b&65535)+((2246822507*(b>>>16)&65535)<<16)&4294967295;b^=b>>>13;b=3266489909*(b&65535)+((3266489909*(b>>>16)&65535)<<16)&4294967295;return(b^b>>>16)>>>0};b.clone=d;b.merge=function(a){for(var d={},g=0;g<a.length;g++)if(a[g]&&a[g].length)for(var b=
0;b<a[g].length;b++)for(var f in a[g][b])d[f]=a[g][b][f];else for(f in a[g])d[f]=a[g][f];return d};b.extractProperties=g;b.extractProperty=function(a,d){return g(a,void 0,d)[d]}})(b.object||(b.object={}));(function(b){function f(d,g,h,b,f){var c=a.localInfo.pageDomain,e=a.partnerSettings.baseDomain;null==b&&(b=0<e.length&&c.length>=e.length&&c.lastIndexOf(e)==c.length-e.length?e:c);h=null==h||""===h||isNaN(h)?47304E7:0==h?null:1E3*h;c=new Date;c.setTime(c.getTime()+h);d=d+"="+escape(g)+(f?"":"; path=/")+
(null==h?"":"; expires="+c.toUTCString())+(b&&""!=b&&-1!=b.indexOf(".")?"; domain="+b:"");document.cookie=d}b.get=function(a){a=a.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1").replace(/^[ \t]+|[ \t]+$/g,"");return(a=document.cookie.match(RegExp("(?:^|;)\\s?"+a+"=(.*?)(?:;|$)")))&&unescape(a[1])};b.set=f;b.remove=function(d){var g=a.localInfo.pageDomain,h=a.partnerSettings.baseDomain;0<h.length&&g.length>=h.length&&g.lastIndexOf(h)==g.length-h.length&&(f(d,"",-1,h),f(d,"",-1,h,!0));f(d,"",-1,a.localInfo.pageDomain);
f(d,"",-1,a.localInfo.pageDomain,!0);f(d,"",-1,"");f(d,"",-1,"",!0)}})(b.cookie||(b.cookie={}));(function(a){a.sanitizeHTML=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\"/g,"&#34;").replace(/'/g,"&#39;").replace(/&#38;#173;/g,"&#173;")};a.sanitizeAttribute=function(a){return null==a||"undefined"==typeof a?a:a.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\"/g,"&#34;").replace(/\=/g,"&#61;")}})(b.sanitize||
(b.sanitize={}));(function(a){function b(a,g,h,c){c||(c=0);if(10<c)return"[Too deep]";var e="",l="",k="";if(h)for(var k="\t",l="\n",p=0;p<c+1;p++)e+=k;var q=typeof a;if("function"==q)return q.toString();if("object"!=q||null===a)return"string"==q&&(a='"'+a.replace(/\"/g,'\\"')+'"'),String(a);var t,s,v=[],u=a&&a.constructor==Array;if(u)for(p=0;p<a.length;p++)s=a[p],q=typeof s,null==s||"undefined"==q?s="":"string"==q?s='"'+s.replace(/\"/g,'\\"')+'"':"function"==q?s=g?"[Function]":"":s.parentNode&&s.innerHTML?
s="[HTML Element]":s.constructor==Date?s="":"object"==q&&null!==s&&(s=b(s,g,h,c+1)),""!=String(s)&&v.push(e+k+String(s));else for(t in a)s=a[t],q=typeof s,null==s||"undefined"==q?s=String(s):"string"==q?s='"'+s.replace(/\"/g,'\\"')+'"':"function"==q?s=g?"[Function]":"":s.parentNode&&s.innerHTML?s="[HTML Element]":s.constructor==Date?s="":"object"==q&&null!==s&&(s=l+b(s,g,h,c+1)),""!=String(s)&&v.push(e+k+'"'+t.replace(/\"/g,'\\"')+'":'+String(s));return l+e+(u?"[":"{")+l+v.join(","+l)+l+e+(u?"]":
"}")}a.serialize=b;a.deserialize=function(a){""===a&&(a='""');eval("var o");try{eval("o="+a)}catch(g){}return eval("o")}})(b.JSON||(b.JSON={}));(function(a){function b(){var a=0,d=0;"number"==typeof window.pageYOffset?(d=window.pageYOffset,a=window.pageXOffset):document.body&&(document.body.scrollLeft||document.body.scrollTop)?(d=document.body.scrollTop,a=document.body.scrollLeft):document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)&&(d=document.documentElement.scrollTop,
a=document.documentElement.scrollLeft);return{left:a,top:d}}function d(){var a,d;d=document.documentElement;var b=document.body;window.innerHeight?(a=window.innerHeight,d=window.innerWidth):(a=d.clientHeight,0==a&&(a=b.clientHeight),d=d.clientWidth,0==d&&(d=b.clientWidth));return{w:d,h:a}}a.getScroll=b;a.getFullSize=function(){var a=document.documentElement,d=document.body,b=a.clientHeight;0==b&&(b=d.clientHeight);a=a.clientWidth;0==a&&(a=d.clientWidth);return{w:a,h:b}};a.getInnerSize=d;a.getMiddleCenter=
function(){var a=b(),h=d();return{top:a.top+Math.floor(h.h/2),left:a.left+Math.floor(h.w/2)}};a.isRectHorizontallyVisible=function(a){var h=b(),c=d();return a.left>=h.left&&a.right<=h.left+c.w};a.isRectFullyVisible=function(a){var h=b(),c=d();return a.top>=h.top&&a.bottom<=h.top+c.h&&a.left>=h.left&&a.right<=h.left+c.w}})(b.viewport||(b.viewport={}));var k=b.viewport;(function(a){a.getPosition=function(){var a=0,d=0;if(document.body){var g=null,g={clientX:0,clientY:0};if(g.pageX||g.pageY)a=g.pageX,
d=g.pageY;else if(g.clientX||g.clientY)a=g.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,d=g.clientY+document.body.scrollTop+document.documentElement.scrollTop;return{x:a,y:d}}}})(b.mouse||(b.mouse={}));(function(b){var c=function(a,d){},d=function(a){return null},g=function(a){};if(a.localInfo.supportsLocalStorage)c=function(a,d){try{window.localStorage[a]=d}catch(g){}},d=function(a){return window.localStorage[a]},g=function(a){window.localStorage.removeItem(a)};else if(a.localInfo.isIE6||
a.localInfo.isIE7)var h,m=function(){h||(h=document.createElement("div"),h.addBehavior("#default#userData"),a.utils.DOM.appendToBody(h))},n=function(){try{m(),h.save("gigya_ud")}catch(a){}},l=function(){try{m(),h.load("gigya_ud")}catch(a){}},c=function(a,d){l();h.setAttribute(encodeURIComponent(a).replace(/\%/g,""),d);n()},d=function(a){l();return h.getAttribute(encodeURIComponent(a).replace(/\%/g,""))},g=function(a){l();h.removeAttribute(encodeURIComponent(a).replace(/\%/g,""));n()};else if(a.localInfo.isFF)var k=
window.globalStorage,c=function(a,d){try{k[location.hostname][a]=d}catch(g){}},d=function(a){return k[location.hostname][a]},g=function(a){delete k[location.hostname][a]};b.getItem=function(a){return d(a)};b.setItem=function(a,d){c(a,d)};b.removeItem=function(a){g(a)};b.setObject=function(d,g){var b=a.utils.JSON.serialize(g);c(d,b)};b.getObject=function(d){d=this.getItem(d);try{d=a.utils.JSON.deserialize(d)}catch(g){}return d}})(b.localStorage||(b.localStorage={}));b.redirect=function(b,c,d,g){if(d&&
"post"==d.toLowerCase()){d=document.createElement("form");var h=[];d.setAttribute("accept-charset","UTF-8");d.setAttribute("method","POST");d.setAttribute("action",b);g&&d.setAttribute("target",g);b=a.utils.object.merge(c);for(var m in b)"boolean"!=typeof b[m]&&"string"!=typeof b[m]||"eventName"==m||h.push('<textarea name="'+encodeURIComponent(m)+'">'+b[m]+"</textarea>");d.innerHTML=h.join("");d.style.display="none";a.utils.DOM.appendToBody(d);d.submit()}else{d=b.split("?");b=d[0];g={};if(1<d.length)for(d=
d[1].split("&"),h=0;h<d.length;h++){var n=d[h].split("=");g[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}for(d=0;d<c.length;d++)for(m in h=c[d],h)"boolean"!=typeof h[m]&&"string"!=typeof h[m]||"eventName"==m||(g[m]=h[m]);c=[];for(m in g)c.push(m+"="+encodeURIComponent(g[m]));document.location.href=b+"?"+c.join("&")}};(function(b){b.URLEncode=function(a){return encodeURIComponent(a)};b.URLDecode=function(a){return decodeURIComponent(a).replace(/\+/g," ")};b.getParamsFromURL=function(b,d){return-1==
b.indexOf("?")?{}:a.utils.keyValue.deserialize(b.split("#")[0].split("?")[1],"&",d)};b.getParamValueFromURL=function(a,d,g){if(null==d||""==d)return g;var b=d.indexOf("?");if(-1==b)return g;b="&"+d.substr(b+1);d=b.toLowerCase().indexOf("&"+a.toLowerCase()+"=");if(-1==d)return g;a=b.substr(d+(1+a.length+1))+"&";d=a.indexOf("&");return a.substr(0,d)};b.addParamsToURL=function(b,d){var g=a.utils.URL.getParamsFromURL(b);a.utils.object.add(g,d);var h=b.split("#"),g=h[0].split("?")[0]+"?"+a.utils.keyValue.serialize(g,
"&");1<h.length&&(g+="#"+h[1]);return g}})(b.URL||(b.URL={}));(function(b){b.serialize=function(b,d){var g=[];d||(d="&");for(var h in b)switch(typeof b[h]){case "function":break;case "array":case "object":null!=b[h]&&g.push(h+"="+a.utils.URL.URLEncode(a.utils.JSON.serialize(b[h])));break;case "undefined":break;default:g.push(h+"="+a.utils.URL.URLEncode(b[h]))}return g.join(d)};b.deserialize=function(b,d,g,h){var c={};if(!b)return c;d||(d="&");b=b.split(d);for(d=0;d<b.length;d++){var e=b[d],l=e.indexOf("=");
if(-1==l){var k=g?e.toLowerCase():e;c[k]="1"}else{k=e.substr(0,l);g&&(k=k.toLowerCase());e=e.substr(l+1).replace(/\+/g," ");try{c[k]=h?unescape(e):a.utils.URL.URLDecode(e)}catch(p){c[k]=unescape(e)}}}return c}})(b.keyValue||(b.keyValue={}));(function(b){b._nextZIndex=999999999;b._popupContainers=[];b._pseudoContainers=[];var c=null;b.addEventListener=function(a,g,b){a&&b&&(window.addEventListener?a.addEventListener(g,b,!0):a.attachEvent("on"+g,b))};b.removeEventListener=function(a,g,b){b&&(window.removeEventListener?
a.removeEventListener(g,b,!0):a.detachEvent("on"+g,b))};b.addDialogBackListener=function(d){a.utils.DOM._removeDialogBackListener();c=function(g){g&&g.newURL&&-1==g.newURL.indexOf("|gigyaMobileDialog")&&(d(g),a.utils.DOM._removeDialogBackListener())};window.setTimeout(function(){-1==window.location.hash.indexOf("|gigyaMobileDialog")&&(window.location.hash+="|gigyaMobileDialog");a.utils.DOM.addEventListener(window,"hashchange",c)},50)};b._removeDialogBackListener=function(){c&&(a.utils.DOM.removeEventListener(window,
"hashchange",c),c=null,window.location.hash=window.location.hash.replace("|gigyaMobileDialog",""))};b.appendToBody=function(a){document.body&&(document.body.insertBefore&&document.body.firstChild?document.body.insertBefore(a,document.body.firstChild):document.body.appendChild(a))};b.removeElement=function(a){a&&a.parentElement&&a.parentElement.removeChild(a)};b.isChildOf=function(a,g){for(var b=a.parentNode;b;){if(g==b)return!0;b=b.parentNode}return!1};b.isVisible=function(d){if(!d||!d.parentNode||
d.style&&"none"==d.style.display)return!1;if(d.parentNode)return a.utils.DOM.isVisible(d.parentNode)};b.getCenteredDivID=function(d){return"gig_"+a.localInfo.initTime.getTime().toString()+"_"+d};b.createTopLevelDiv=function(d){var g;g=document.createElement("iframe");g.id="gigya_ifr_"+d;g.frameborder="0";g.frameBorder="0";g.allowtransparency=!0;g.style.position="absolute";g.style.width=a.localInfo.isChrome?"30px":"1px";g.style.height="1px";null!=g.style.zIndex&&(g.style.zIndex=a.utils.DOM._nextZIndex++);
a.localInfo.isIE6&&(g.src=a.thisScript.base+"/gs/blank.htm");var b=document.createElement("div");b.style.position="absolute";null!=b.style.zIndex&&(b.style.zIndex=""+a.utils.DOM._nextZIndex++);b.innerHTML="";d&&(b.id=d);document.body&&document.body.insertBefore&&(document.body.firstChild?(null!=g&&document.body.insertBefore(g,document.body.firstChild),document.body.insertBefore(b,document.body.firstChild)):document.body.appendChild&&(null!=g&&document.body.appendChild(g),document.body.appendChild(b)));
return b};b.hideByID=function(a){if(a=document.getElementById(a))a.style.display="none"};b.showByID=function(d){if(d=document.getElementById(d))d.style.display=a.localInfo.isIE6?"TD"==d.tagName?"table-cell":"TR"==d.tagName?"":"TABLE"==d.tagName?"":"block":""};b.clearByID=function(a){try{var g=document.getElementById(a);null!=g&&(g.innerHTML="")}catch(b){}};b.getHTMLSize=function(a,g){var b=document.createElement("div");b.style.position="absolute";b.style.left="-1000px";b.innerHTML=a;g.appendChild(b);
var c=b.offsetWidth,f=b.offsetHeight;b.parentNode.removeChild(b);return{w:c,h:f}};b.getElementsByClass=function(a,b){if(!a)return[];for(var c=[],f=a.getElementsByTagName("*"),e=0;e<f.length;e++){var l=f[e].className;if(l)for(var l=l.split(" "),k=0;k<l.length;k++)l[k]==b&&c.push(f[e])}return c||[]};b.getElementsByAttribute=function(a,b,c,f){var e=[];a=a.getElementsByTagName(b);for(b=0;b<a.length;b++)a[b].getAttribute(c)==f&&e.push(a[b]);return e};b.getElementPosition=function(a){if(!a)return{left:0,
top:0,bottom:0,right:0};var b=0,c=0,f=a.offsetHeight,e=a.offsetWidth;if(a.offsetParent){do c+=a.offsetLeft,b+=a.offsetTop;while(a=a.offsetParent)}return{left:c,top:b,bottom:b+f,right:c+e}};b.addClassToElement=function(a,b){if(a){for(var c=!1,f=a.className.split(" "),e=0;e<f.length;e++)if(f[e]==b){c=!0;break}c||(f.push(b),a.className=f.join(" "))}};b.removeClassFromElement=function(a,b){if(a){for(var c=a.className.split(" "),f=c.length-1;0<=f;f--)c[f]==b&&c.splice(f,1);a.className=c.join(" ")}};b.isElementClass=
function(a,b){if(a){for(var c=!1,f=a.className.split(" "),e=0;e<f.length;e++)if(f[e]==b){c=!0;break}return c}};b.cancelEvent=function(a){a&&("cancelable"in a?a.preventDefault():a.returnValue=!1)};b.createElement=function(a,b){var c=document.createElement("div");b=b||"";c.innerHTML="<"+a+' name="'+b+'" id="'+b+'"></'+a+">";return c.firstChild};b.setSize=function(d,b,c,f){if(null!=d&&null!=d.style){var e=""+(0<(""+b).indexOf("%")?b:b+"px"),l=""+(0<(""+b).indexOf("%")?c:c+"px");if(d.style.width!=e||
d.style.height!=l)void 0==b||isNaN(b)||(d.style.width=e),void 0==c||isNaN(c)||(d.style.height=l);if(f&&b&&c){if(null==d.style.zIndex||f)d.style.zIndex=this._nextZIndex++;f=k.getInnerSize();e=a.utils.viewport.getScroll();l=e.left;d.style.top=""+Math.max(0,e.top+Math.floor((f.h-c)/2))+"px";d.style.left=""+Math.max(0,l+Math.floor((f.w-b)/2))+"px";d.style.visibility=""}}}})(b.DOM||(b.DOM={}));(function(b){function c(d){d=a.utils.object.clone(d);var b=function(){var b=d.data.split("="),c=h[b[0]];if(null!=
c){if("function"==typeof c.callback){var f=unescape(b[1]),f=a.utils.keyValue.deserialize(f,null,null,!0);c.callback(f,c.context)}g(b[0]);(b=document.getElementById(b[0]))&&b.parentElement&&b.parentElement.removeChild(b)}};d&&d.data&&d.data.split&&(6<=a.localInfo.iosVersion?b():window.setTimeout(b,100))}function d(d){var b=document.createElement("iframe");b.style.width="30px";b.style.height="10px";b.style.position="absolute";b.style.top="-1000px";b.style.left="-1000px";b.id=d;b.src="https://cdns.gigya.com/gs/LocalStorageListener.htm?mode=receive&id="+
encodeURIComponent(d);a.utils.DOM.appendToBody(b);return b}function g(a){delete h[a]}var h={};b._flashListenerID="flid"+(new Date).getTime();var m=!1,k={};b._onFlashMessage=function(d){d=a.utils.keyValue.deserialize(d,null,null,!0);var b=d.id,c=h[b];null!=c&&("function"==typeof c.callback&&c.callback(d,c.context),g(b))};b.addMessageListener=function(g,r,p,q){h[g]={callback:q,context:r,t:(new Date).getTime()};q=a.localInfo.messagingMethod;if(q==a._.MessagingMethod.LocalStorageListener||q==a._.MessagingMethod.PostMessage)q==
a._.MessagingMethod.LocalStorageListener&&p&&d(g),m||(g=function(a){var d=a.data.split("=")[0];h[d]&&c(a)},window.addEventListener?window.addEventListener("message",g,!1):window.attachEvent&&window.attachEvent("onmessage",g),m=!0);else{var t="localstorage";r&&r.c&&r.c.legacyCrossSiteMethod&&"localstorage"!=r.c.legacyCrossSiteMethod.toLowerCase()&&(t=r.c.legacyCrossSiteMethod);k[t]||window.setTimeout(function(){var d=document.createElement("div");d.style.width="1px";d.style.height="1px";d.style.overflow=
"hidden";d.style.position="absolute";d.style.left="-1000px";var g=b._flashListenerID;"localstorage"!=t&&(g=r.c.legacyCrossSiteMethod+":"+b._flashListenerID);var c=document.location.protocol+"//"+document.location.href.split("?")[0].split("#")[0].split("/")[2],h=(new Date).getTime(),f=document.createElement("object");f.setAttribute("id","eventsBroadcaster"+h);f.setAttribute("codebase","https://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0");f.setAttribute("width","50");
f.setAttribute("height","50");f.setAttribute("src","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");h=document.createElement("param");h.name="movie";h.setAttribute("value","https://cdns.gigya.com/GS/swf/eventsBroadcaster2.swf");f.appendChild(h);h=document.createElement("param");h.setAttribute("name","allowScriptAccess");h.setAttribute("value","always");f.appendChild(h);h=document.createElement("param");h.setAttribute("name","FlashVars");h.setAttribute("value","action=listen&id="+g+"&eventName=loginComplete&callback=gigya.utils.xd._onFlashMessage&domain="+
c);f.appendChild(h);d.appendChild(f);a.utils.functions.invokeOnPageLoad(function(){a.utils.DOM.appendToBody(d);f.setAttribute("type","application/x-shockwave-flash");f.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000")});k[t]=!0},500)}};b.removeMessageListener=g})(b.xd||(b.xd={}));(function(b){var c={};b.load=function(d,b,h,e){e&&c[d]?c[d].loaded?h&&h():(c[d].onLoad.push(h),c[d].onError.push(b)):(e=function(){var e=document.createElement("script");e.async=!0;e.type="text/javascript";
e.charset="UTF-8";c[d]||(c[d]={loaded:!1,onLoad:[h],onError:[b]});var m=c[d],k=!1,p=function(){if(!k){c[d].loaded=!0;for(var a=0;a<m.onLoad.length;a++)if("function"==typeof m.onLoad[a])m.onLoad[a]();k=!0;setTimeout(function(){e.parentNode&&e.parentNode.removeChild(e)},5E3)}};e.onload=p;e.onreadystatechange=function(){"loaded"==this.readyState&&p()};e.onerror=function(){for(var a=0;a<m.onError.length;a++)if("function"==typeof m.onError[a])m.onError[a]();delete c[d]};var q=document.getElementsByTagName("head");
q&&0<q.length&&q[0].appendChild(e);q=function(){e.src=d};6<=a.localInfo.iosVersion?q():setTimeout(q,1)},a.localInfo.isIE?a.utils.functions.invokeOnPageLoad(e):e())}})(b.script||(b.script={}));(function(b){b.set=function(b,d){if(window.sessionStorage){var g;try{(g=a.utils.JSON.deserialize(window.sessionStorage.getItem("gigyaCache")))||(g={}),null==d&&g[b]?delete g[b]:g[b]={response:d,time:(new Date).getTime()},window.sessionStorage.setItem("gigyaCache",a.utils.JSON.serialize(g))}catch(c){}a.utils.queue.release("cache",
"cache_"+b)}};b.get=function(b,d,g){if(window.sessionStorage)try{if(!a.utils.queue.isActive("cache_"+b)){var c=window.sessionStorage.getItem("gigyaCache"),e=a.utils.JSON.deserialize(c),k=e?e[b]:null;if(k){if(d&&d+k.time>(new Date).getTime()){g(k.response);return}a.utils.sessionCache.remove(b);k=null}if(!k){a.utils.queue.hold("cache","cache_"+b);g(null);return}}a.utils.queue.isActive("cache_"+b)&&a.utils.queue.waitFor("cache_"+b,a.utils.sessionCache.get,arguments)}catch(l){g(null)}else"function"==
typeof g&&g(null)};b.remove=function(b){a.utils.sessionCache.set(b,null)}})(b.sessionCache||(b.sessionCache={}));(function(a){a.format=function(a){for(var d=0;d<arguments.length-1;d++);for(d=0;d<arguments.length-1;d++)null!=arguments[d+1]&&(a=a.split("{"+d+"}").join(arguments[d+1]));return a};a.capitalize=function(a){return a.substring(0,1).toUpperCase()+a.substring(1)}})(b.stringUtils||(b.stringUtils={}));(function(b){var f=null;b.isModern=function(){return a.localInfo.isChrome||a.localInfo.isFF||
a.localInfo.isOpera||a.localInfo.isIOSWebView||a.localInfo.isIE&&9<=a.utils.browser.getVersion()||a.localInfo.isSafari&&4<=a.utils.browser.getVersion()||a.localInfo.isAndroid&&4<=a.localInfo.androidVersion};b.getVersion=function(){if(f)return f;try{var a=c.match(/(opera|chrome|safari|firefox|msie|trident.*rv:)\/?\s*(\.?\d+(\.\d+)*)/i);if(a[2]){var b=a[2].split(".")[0];if(!isNaN(parseInt(b)))return f=parseInt(b)}}catch(h){}return 0}})(b.browser||(b.browser={}));(function(b){function c(a){if(!d[a])return!1;
var b=0,f;for(f in d[a].ids)b++;return 0<b}var d={};b.isActive=c;b.release=function(a,b){if(d[b]&&(delete d[b].ids[a],!c(b))){var e=d[b].q;for(d[b].q=[];0<e.length;){var k=e.splice(0,1)[0];k.func.apply(this,k.args);if(c(b)){d[b].q=e;break}}}};b.hold=function(a,b){d[b]||(d[b]={q:[],ids:{}});d[b].ids[a]=!0};b.waitFor=function(a,b,c){d[a]||(d[a]={q:[],ids:{}});d[a].q.push({func:b,args:c})};b.queueForExecution=function(b,d,c){c=c||[];a.utils.queue.isActive(b)?a.utils.queue.waitFor(b,d,c):d.apply(this,
c)}})(b.queue||(b.queue={}))})(a.utils||(a.utils={}))})(gigya||(gigya={}));(function(a){a.global={};a.socialize={};a.gcs={};a.gm={};a.comments={};a.accounts={};a.chat={}})(gigya||(gigya={}));
(function(a){(function(c){var b={};c.getApi=function(a){return b[a]};var k=function(){function c(a,d){this.methodName=a;this.settings=d;this.addAlias();b[a]=this}c.prototype.run=function(a){};c.prototype.preprocessRequest=function(a,b){this.settings.preprocessor?this.settings.preprocessor(a,b):b()};c.prototype.addAlias=function(){var b=this;a.utils.functions.createAlias("gigya."+this.methodName,function(){var d=a.utils.object.merge([arguments]),g=function(){var g=a.utils.object.merge([a.thisScript.globalConf,
d]);b.run(g)};d.ignoreApiQueue?g():a.utils.queue.queueForExecution("API",function(){g()})})};return c}();c.BaseApi=k})(a._||(a._={}))})(gigya||(gigya={}));(function(a){a.defaultEventMaps=a.defaultEventMaps||[]})(gigya||(gigya={}));
(function(a){(function(c){(function(b){function c(b,g,h){var f=function(b){b.cancel||a.events.global.dispatch(b,g)};h?h(b,f):f(b)}var e={},f={};b._activeNamespaces={};b.add=function(b,g,h,m,n){n||(n="socialize");b=n+"_"+b;h||(h="other");e[b]||(e[b]=[]);e[b].push({handler:g,type:h,context:m});!this._activeNamespaces[n]&&a._.apiAdapter&&a._.apiAdapter.registerForNamespaceEvents(n);this._activeNamespaces[n]=1;if((g=f[b])&&"other"==h)for(f[b]=[],h=0;h<g.length;h++)m=g[h],c(m.eventObj,m.params,m.preProcess)};
b.remove=function(a){};b.dispatch=function(b,g){var c=b.isInternal,f=b.eventName.split(",");a.log.addLog('Dispatching global event "'+b.eventName+'" with this event object',b);for(var k=0;k<f.length;k++){var l=f[k].split("."),r=1<l.length?l.shift():"socialize",p=l[0],l="on"+p.substring(0,1).toUpperCase()+p.substring(1),q=a.utils.object.clone(e[r+"_"+l]);q||(q=[]);l=a.utils.object.clone(b);l.isGlobal=!0;l.eventName=p;g&&g.source&&(l.source=g.source);g&&g.sourceData&&(l.sourceData=g.sourceData);p=["component"];
c||p.push("other");for(var t=0;t<p.length;t++)for(var s=p[t],v=0;v<q.length;v++){var u=q[v];if(u.type==s){var w=a.utils.object.clone(l);null==w.context&&null!=u.context&&(w.context=u.context);null==w.context&&delete w.context;"component"!=s&&a._.handleSpecialFields(w);try{u.handler(w)}catch(y){a.log.addLog('Error while trying to invoke "'+b.eventName+'" global event handler',y)}}}c||a.events._dispatchFromMaps(l,!0);q=window.GenesisExchange_Gigya;p=window.gigya_omniture_conf;t=window.myOmnitureIntegrationFunc;
c||"undefined"==typeof q||"undefined"==typeof p||"socialize"!=r||((new q(p)).processAction(l),"undefined"!=typeof t&&t(p,l))}};b.dispatchWhenHandlerAdded=function(a,b,h){"undefined"===typeof b&&(b={});var e=a.eventName.split("."),n=1<e.length?e.shift():"socialize",e=e[0];this._activeNamespaces[n]?c(a,b,h):(e="on"+e.substring(0,1).toUpperCase()+e.substring(1),n=n+"_"+e,f[n]||(f[n]=[]),f[n].push({eventObj:a,params:b,preProcess:h}))};b.getEventsForOperation=function(a){var b=[];-1!=a.toLowerCase().indexOf("login")?
(this._activeNamespaces.socialize&&b.push("socialize.login"),this._activeNamespaces.accounts&&b.push("accounts.login")):-1!=a.toLowerCase().indexOf("addconnection")&&this._activeNamespaces.socialize&&b.push("socialize.connectionAdded");return b.join(",")}})(c.global||(c.global={}));c.addMap=function(b){a.defaultEventMaps.splice(0,0,b)};c.dispatchErrorFromResponse=function(b,c,e){c||(c={});var f=c;f.response&&(f=f.response);c={eventName:"error",status:f.status?f.status:"FAIL",statusMessage:f.statusMessage?
f.statusMessage:"General Server Error",errorMessage:f.errorMessage?f.errorMessage:"General Server Error",errorDetails:f.errorDetails?f.errorDetails:"",errorCode:f.errorCode?f.errorCode:500001,response:c};a.utils.object.add(c,e);a.events.dispatchForWidget(c,b)};c.dispatchInvalidParamError=function(a,c){var e={eventName:"error"};"undefined"==typeof a[c]||null==a[c]?(e.errorCode=400002,e.errorMessage="Missing_required_parameter ("+c+")"):(e.errorCode=400006,e.errorMessage="Invalid_parameter_value ("+
c+")");e.status=e.errorCode;e.statusMessage=e.errorMessage;this.dispatchForWidget(e,a)};c.dispatchForWidget=function(b,c){if(b&&b.eventName){var e=b.eventName;a.log.addLog('Dispatching widget event "'+e+'" for '+c.lastSource+" with this event object",b);var f="on"+e.substring(0,1).toUpperCase()+e.substring(1);a._.handleSpecialFields(b);for(var d=b.eventName.split(","),g,h=0;h<d.length;h++){e=d[h];f="on"+e.substring(0,1).toUpperCase()+e.substring(1);c.context&&(b.context=c.context);c&&c.source&&(b.source=
c.source);c&&c.sourceData&&(b.sourceData=c.sourceData);c&&c.containerID&&(b.sourceContainerID=c.containerID);try{"function"==typeof c[f]&&(g=c[f](b))}catch(m){}if(-1==e.indexOf("login")&&-1==e.indexOf("logout")&&"connectionRemoved"!=e&&"connectionAdded"!=e){this._dispatchFromMaps(b);var e=window.GenesisExchange_Gigya,f=window.gigya_omniture_conf,n=window.myOmnitureIntegrationFunc;"undefined"!=typeof e&&"undefined"!=typeof f&&((new e(f)).processAction(b),"undefined"!=typeof n&&n(f,b))}}if(null!=g)return g}};
c._dispatchFromMaps=function(b,c){for(var e=[],f=!1,d=0;d<a.defaultEventMaps.length;d++){for(var g=a.defaultEventMaps[d].eventMap,h=a.defaultEventMaps[d].defaultMethod,m=0;m<g.length;m++){var n=g[m],l=[];n.args||(n.args=[]);for(var r=0;r<n.args.length;r++)"$event"==n.args[r]?l.push(b):l.push(a.utils.templates.fill(n.args[r],b));n.events.split(",");r=","+n.events.toLowerCase()+",";-1==r.indexOf(",*,")&&(-1==r.indexOf(",on"+b.eventName.toLowerCase()+",")&&-1==r.indexOf(","+b.eventName.toLowerCase()+
",")||(b.source||n.sources)&&n.sources&&-1==n.sources.indexOf(b.source))||(e.push(n),(n.method?n.method:h).apply(this,l),n.override&&(f=!0))}if(f)break}}})(a.events||(a.events={}))})(gigya||(gigya={}));var __extends=this.__extends||function(a,c){function b(){this.constructor=a}for(var k in c)c.hasOwnProperty(k)&&(a[k]=c[k]);b.prototype=c.prototype;a.prototype=new b};
(function(a){(function(a){a.apiAdapter;var b=function(b){function e(a,d,c,h,e,n){"undefined"===typeof h&&(h={});"undefined"===typeof e&&(e={});b.call(this,a,h);this.schema=d;this.requiresSession=c;this.settings=h;this.adapterSettings=e;this.altSessionParams=n;e.requiresSession=c}__extends(e,b);e.prototype.run=function(f){b.prototype.run.call(this,f);(new a.ServerApiRequest(this,f)).start()};return e}(a.BaseApi);a.ServerApi=b})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(){return a.utils.object.clone({status:"OK",statusMessage:"",errorCode:0,statusCode:0,errorMessage:"",errorDetails:"",statusReason:""})}var k;a.events.global.add("onFBCRefreshed",function(){k=!1},"component");var e=function(){function f(b,c){this.api=b;this.params=a.utils.object.clone(c);this.originalParams=a.utils.object.clone(c);this.callback=c.callback}f.prototype.start=function(){var b=this;c.apiAdapter.isSessionValid(this.params,function(c){!b.api.adapterSettings.requiresSession||
c||b.doesHaveAltSessionParam()?b.sendRequest(c):b.afterServerApiResponse(a.utils.object.clone({status:"FAIL",errorMessage:"Unauthorized user",statusMessage:"Unauthorized user",errorCode:403005}),!1)})};f.prototype.sendRequest=function(b){var g=this,h=a.utils.object.merge([this.api.adapterSettings,{cacheTimeout:this.params.cacheTimeout}]);this.beforeRequest(b,function(f){f?g.afterServerApiResponse(f,b):(a.events.global.dispatch({eventName:"beforeRequest",methodName:g.api.methodName,rawParams:g.originalParams,
params:g.params},g.originalParams),g.api.settings.oauth?c.apiAdapter.sendOauthRequest(g.api.methodName,g.params,function(a){g.afterServerApiResponse(a,b)},h):c.apiAdapter.sendRequest(g.api.methodName,g.params,function(a){g.afterServerApiResponse(a,b)},h))})};f.prototype.beforeRequest=function(d,c){var h=this;a.external.backplane.isLoaded()&&!a.external.backplane._ready&&a._.loginMethods[this.api.methodName]?a.external.backplane.executeOnInit(function(){h.beforeRequest(d,c)}):(-1!=this.api.methodName.indexOf(".logout")&&
(!d&&!this.params.regToken||a.partnerSettings.ssoLogoutUrl&&document.location.href==a.partnerSettings.ssoLogoutUrl)&&c(b()),this.handleDeprecatedParams(),this.handleCollections(),this.handleConnectWithoutLoginBehavior(d),this.params.extraPermissions=this.params[this.params.provider+"ExtraPermissions"]||this.params.permissions,this.api.preprocessRequest(this.params,function(){h.setOverridableParams(function(){h.setNonOverridableParams(d,function(){h.filterParams(h.params);a.log.logCall(h.api.methodName,
h.originalParams,h.originalParams.lastSource);c()})})}))};f.prototype.setOverridableParams=function(b){a.utils.object.merge([{},this.params]);b()};f.prototype.doesHaveAltSessionParam=function(){if(this.api.altSessionParams){for(var a=this.api.altSessionParams.split("|"),b=0;b<a.length;b++)if(this.params[a[b]])return!0;return!1}};f.prototype.setNonOverridableParams=function(b,c){if(null!=this.params.APIKey){var h=a.utils.cookie.get("gltexp_"+this.params.APIKey);null!=h&&(this.params.loginTokenExp=
h)}(h=a.utils.cookie.get("_gigRefUid_"+this.params.APIKey))&&(b||a._.loginMethods[this.api.methodName])&&(this.params.refUID=h);if(a.fbAppID&&!k){var h=a.external.facebook.getParams(),f;for(f in h)this.params[f]=h[f];k=!0}0==this.api.methodName.indexOf("accounts.")&&(a.events.global._activeNamespaces.socialize&&null==this.params.includeUserInfo&&(this.params.includeUserInfo=!0),this.params.include=this.params.include?this.params.include+",":"profile,data");"accounts.getSchema"==this.api.methodName&&
(this.params.includeDynamicSchema="clientOnly");(f=a.external.backplane.getChannelId())&&(this.params.bp_channel_url=f);this.params.targetEnv="jssdk";c()};f.prototype.handleDeprecatedParams=function(){this.params.pendingRegistration?this.params.pending_registration=this.params.pendingRegistration:this.params.newUsersPendingRegistration&&(this.params.pending_registration=this.params.newUsersPendingRegistration);!0==this.params.alwaysForceAuthentication&&(this.params.forceAuthentication=!0);this.params.timestamp&&
(this.params.UIDTimestamp=this.params.timestamp,delete this.params.timestamp);this.params.signature&&0==this.api.methodName.indexOf("socialize.")&&(this.params.UIDSig=this.params.signature,delete this.params.signature);this.params.nonce&&(this.params.UIDNonce=this.params.nonce,delete this.params.nonce);this.params.format&&!this.params.dataFormat&&(this.params.dataFormat=this.params.format,delete this.params.format)};f.prototype.handleCollections=function(){this.params.recipients&&(this.params.recipients=
this.extractListOfGIGUIDs(this.params.recipients));if(this.params.friends){var a=this.extractListOfGIGUIDs(this.params.friends);0<this.params.UIDs.length&&(this.params.UIDs+=",");this.params.UIDs+=a}};f.prototype.extractListOfGIGUIDs=function(b){switch(typeof b){case "string":return b;case "object":if("undefined"!=typeof b.UID)return b.UID;if(b instanceof a.socialize.Collection){var c=[];b.each(function(a,b){var d=this.extractListOfGIGUIDs(a);null!=d&&""!=d&&c.push(d)});return c.join(",")}}};f.prototype.handleConnectWithoutLoginBehavior=
function(b){if("socialize.addConnection"==this.api.methodName){var c=this.params.connectWithoutLoginBehavior;c&&(c=c.toLowerCase());"loginexistinguser"==c&&(this.params.loginIfExists=!0);b||(this.api=a._.getApi("socialize.login"),"alwayslogin"!=c&&(this.params.temporary_account=!0))}};f.prototype.filterParams=function(b){this.params=a.utils.object.extractProperties(b,{},this.getFullSchema())};f.prototype.getFullSchema=function(){if(null==this.api.schema)return"";for(var b=(this.api.schema+"|"+a._.defaultApiSchema).split("|"),
c=0;c<b.length;c++){var h=b[c];if(-1!=h.toLowerCase().indexOf("[providercapability=")){for(var f=h.toLowerCase().split("=")[1].split("]")[0],h=h.split("]")[1],f=a.socialize.getProvidersForRequiredCapabilities(a.socialize.getProvidersByName("*"),[f]),e=[],k=0;k<f.length;k++)e.push(f[k].name+h);b[c]=e.join("|")}}return b.join("|")};f.prototype.preprocessServerResponse=function(b){b.userInfo&&0!=this.api.methodName.indexOf("accounts.")&&("string"==typeof b.userInfo&&(b.userInfo=a.utils.JSON.deserialize(b.userInfo)),
b.userInfo&&(b=a.utils.object.merge([b.userInfo,b]),b.errorCode=b.userInfo.errorCode,delete b.userInfo));b.accountInfo&&"string"==typeof b.accountInfo&&(b.accountInfo=a.utils.JSON.deserialize(b.accountInfo),b.accountInfo&&(b=a.utils.object.merge([b.accountInfo,b]),delete b.accountInfo));try{b.settings&&"string"==typeof b.settings&&(b.settings=a.utils.JSON.deserialize(b.settings))}catch(c){}return b};f.prototype.onAfterLogoutMethod=function(){a.external.backplane.resetChannel()};f.prototype.getExpiredSessionResponse=
function(d){switch(this.api.methodName){case "socialize.setUserSettings":this.originalParams.disableLocalSettings||(a._.setGigyaSettings(this.params.group,this.params.settings),d=b());break;case "socialize.delUserSettings":this.originalParams.disableLocalSettings||(a._.delGigyaSettings(this.params.group,this.params.settings),d=b());break;case "socialize.getUserSettings":if(!this.originalParams.disableLocalSettings){var c=a._.getGigyaSettings(this.params.group);d=b();d.settings=c}break;case "socialize.getUserInfo":d.status=
"OK";d.statusMessage="";d.errorCode=0;d.statusCode=0;d.errorMessage="";d.errorDetails="";d.statusReason="";d.user=new a.socialize.User;break;case "accounts.logout":case "socialize.logout":d=b()}return d};f.prototype.afterServerApiResponse=function(b,c){var h=this;a._.checkCompleteRegistration(b,this.originalParams,function(f,e,k){b=f;b=h.preprocessServerResponse(b);if(a._.logoutMethods[h.api.methodName]&&0==b.errorCode)h.onAfterLogoutMethod();403005==b.errorCode&&(b=h.getExpiredSessionResponse(b));
0==b.errorCode&&(c||a._.loginMethods[h.api.methodName])&&a.utils.cookie.remove("_gigRefUid_"+h.originalParams.APIKey);h.handleMethodResponse(b,function(f){b=f;h.addDefaultResponseProperties(b);a._.handleSpecialFields(b);h.logoutFromProvidersIfNeeded(b,function(){e||h.generateEventsFromResponse(b,c);k?h.sendRequest(c):(a.events.global.dispatch({eventName:"afterResponse",methodName:h.api.methodName,filteredParams:h.params,response:b},h.originalParams),"function"==typeof h.callback&&(a.log.addLog("Calling callback for "+
h.api.methodName+" with this response object",b),h.callback(b)),h.api.settings.postprocessor&&h.api.settings.postprocessor(h.originalParams,b))})})})};f.prototype.addDefaultResponseProperties=function(a){delete a.statusCode;delete a.statusReason;a.errorCode=a.errorCode||0;a.status=a.status||(0==a.errorCode?"OK":"FAIL");a.errorMessage=a.errorMessage||"";a.statusMessage=a.statusMessage||a.errorMessage;a.requestParams=this.originalParams;a.requestParams.password&&delete a.requestParams.password;a.context=
this.originalParams.context;var b=this.api.methodName.split(".")[0];a.operation="socialize"==b?this.api.methodName.split(".")[1]:"/"+this.api.methodName};f.prototype.handleMethodResponse=function(b,c){if(0==b.errorCode)switch(this.api.methodName){case "socialize.postComment":if(b.comment)try{b.comment=a.utils.JSON.deserialize(b.comment)}catch(h){}break;case "gm.getTopUsers":if(a.localInfo.isIE)for(var f=0;f<b.users.length;f++){var e=b.users[f];e.photoURL&&-1!=e.photoURL.indexOf("apis.live.net")&&
(e.photoURL=e.photoURL.replace("https://apis.live.net",document.location.protocol+"//msnproxy.gigya.com"))}break;case "accounts.socialLogin":case "socialize.login":b.newUser=b.x_newUser?!0:!1,delete b.x_newUser;case "socialize.notifyLogin":case "socialize.addConnection":case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "socialize.getUserInfo":delete b.login_token;delete b.expires_in;b.code&&(b.authCode=b.code,delete b.code);b.authCode||
"socialize.notifyLogin"==this.api.methodName&&this.params.authCode||(e=b,b.userInfo&&(e=b.userInfo,delete b.userInfo),-1==this.api.methodName.indexOf("accounts.")?(b={user:e},a.utils.object.extractProperties(e,b,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|settings|context|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data|newUser"),b.user.hasOwnProperty("UIDSig")&&(b.signature=b.user.UIDSig),e.profile&&delete e.profile,e.data&&delete e.data,delete e.status,delete e.statusMessage,
delete e.callId,delete e.errorCode,delete e.errorMessage,delete e.errorDetails,delete e.settings,delete e.context):b!=e&&(b.user=e),""==e.age||isNaN(parseInt(e.age))||(e.age=parseInt(e.age)),e.suppressEvents&&(b.suppressEvents=!0),"string"==typeof e.capabilities&&((f=e.capabilities)||(f=""),"object"!=typeof e.capabilities&&(e.capabilities={}),f=f.toLowerCase(),e.capabilities={actions:-1<f.indexOf("actions"),friends:-1<f.indexOf("friends"),login:-1<f.indexOf("login"),status:-1<f.indexOf("status"),
notifications:-1<f.indexOf("notifications"),contacts:-1<f.indexOf("contacts"),photos:-1<f.indexOf("photos")}),a._.convertIdentitiesArrayToObject(e),"string"==typeof e.providers&&(e.providers=e.providers.split(",")),this.params.group&&!b.settings&&(f=a._.getGigyaSettings(this.params.group),b.settings=f));break;case "socialize.getAvailableProviders":e={};for(f=0;f<b.availableProviders.length;f++)e[b.availableProviders[f].name]=b.availableProviders[f];b.availableProviders=e}"socialize.removeConnection"==
this.api.methodName&&0==b.errorCode?a.socialize.getUserInfo(this.originalParams,{callback:function(a){c(a)}}):c(b)};f.prototype.logoutFromProvidersIfNeeded=function(b,c){var f;b.connectedProviders?f=b.connectedProviders.toLowerCase():b.provider&&(f=b.provider.toLowerCase());if(a._.logoutMethods[this.api.methodName]&&f&&!a.utils.validation.isExplicitFalse(this.originalParams.forceProvidersLogout)){var e=f.split(","),k=0,l=!1,r=function(){l||c();l=!0};window.setTimeout(r,5E3);for(f=0;f<e.length;f++)this.logoutFromProvider(e[f],
function(){k++;k==e.length&&r()})}else c()};f.prototype.logoutFromProvider=function(b,c){var f="",e=!1;switch(b){case "facebook":if(a.fbAppID){a.socialize.waitForService({service:"facebook",callback:function(){a.external.facebook.isLoggedIn&&FB.logout?FB.logout(function(){a.external.facebook.refreshSession();c()}):c()}});return}break;case "yahoo":f="https://login.yahoo.com/config/login?.src=fpctx&amp;logout=1&r=";break;case "google":f="https"==a.thisScript.protocol?"https://google.com/accounts/Logout?r=1":
"https://www.google.com/accounts/Logout?r=",e=!0}if(f){var f=f+(new Date).getTime(),k;if(e){var l=document.createElement("iframe");l.style.width="30px";l.style.height="10px";l.style.position="absolute";l.style.top="-1000px";l.style.left="-1000px";k=function(a){var b;b=a&&a.srcElement?a.srcElement:a&&a.target?a.target:this;!b.loaded&&b.parentNode&&(b.loaded=!0,c(),window.setTimeout(function(){try{document.body.removeChild(b)}catch(a){}},5E3))};l.addEventListener?(l.addEventListener("load",k,!1),l.addEventListener("error",
k,!1)):l.attachEvent&&(l.attachEvent("onload",k),l.attachEvent("onerror",k),l.onerror=l.onload=l.onreadystatechange=function(a){l.readyState&&"loaded"!=l.readyState&&"complete"!=l.readyState||k(a)},l.onerror=k);l.src=f;a.utils.DOM.appendToBody(l)}else e=new Image,k=function(){this.loaded||(this.loaded=!0,c())},e.onload=k,e.onerror=k,e.src=f}else c()};f.prototype.generateEventsFromResponse=function(b,c){var f=this,e;if(0==b.errorCode)switch(this.api.methodName){case "accounts.logout":case "socialize.logout":case "socialize.unlinkAccounts":case "socialize.deleteAccount":e=
{eventName:"logout,accounts.logout"};break;case "socialize.linkAccounts":case "socialize.setUID":a._.addUserInfoToEvent(b,e,!0);break;case "socialize.removeConnection":e={eventName:"connectionRemoved,disconnect",provider:this.params.provider||""};a._.addUserInfoToEvent(b,e);break;case "socialize.addConnection":!c&&b.user.isLoggedIn?(e={eventName:"login",provider:this.params.provider},a._.addUserInfoToEvent(b,e,!0)):(e={eventName:"connectionAdded,connect",provider:this.params.provider},a._.addUserInfoToEvent(b,
e));break;case "accounts.linkAccounts":case "accounts.finalizeRegistration":case "accounts.login":case "accounts.register":case "accounts.socialLogin":this.dispatchAccountsLoginEvent(b);case "socialize.finalizeRegistration":case "socialize.register":case "socialize.login":if(!b.user&&!b.authCode)break;e={eventName:"login"};var k=this.params.provider;if(!k&&b.providerSessions)for(var l in b.providerSessions){k=l;break}e.provider=k||"site";b.authCode&&(e.authCode=b.authCode);a._.addUserInfoToEvent(b,
e,!0);b.user&&k&&(k=k.toLowerCase(),a.utils.cookie.set("_gig_llp",k),a.utils.cookie.set("_gig_llu",b.user.firstName||""));break;case "socialize.notifyLogin":this.params.authCode||(e||(e={eventName:"login"}),e.provider="site",a._.addUserInfoToEvent(b,e,!0));break;case "gm.notifyAction":a.events.global.dispatch({eventName:"actionNotified",isInternal:!0})}a._.loginMethods[this.api.methodName]&&this.originalParams.redirectURL&&e&&e.user&&0==b.errorCode&&a.utils.redirect(this.originalParams.redirectURL,
[e,e.user],this.originalParams.redirectMethod);0==b.errorCode&&e&&"login"==e.eventName&&!b.profile&&a.events.global._activeNamespaces.accounts&&-1==this.api.methodName.indexOf("accounts")&&a.accounts.getAccountInfo(this.originalParams,{include:"profile,data",includeUserInfo:!1,callback:function(a){f.dispatchAccountsLoginEvent(a)}});null!=e&&(e.context=this.originalParams.context,a.events.global.dispatch(e,this.originalParams))};f.prototype.dispatchAccountsLoginEvent=function(b){var c={eventName:"accounts.login",
remember:a.utils.validation.isExplicitTrue(this.originalParams.remember),provider:this.originalParams.provider?this.originalParams.provider.toLowerCase():""};a.utils.object.extractProperties(b,c,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID|profile|data");a.events.global.dispatch(c,this.originalParams)};return f}();c.ServerApiRequest=e})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){var b,k={showReactionsBarUI:["barID"],showCommentsUI:["categoryID","streamID"],showFeedUI:["feedID"],showChatUI:["configID","streamID","chatID"]},e=function(c){function d(a,b,d,e,k,r){"undefined"===typeof d&&(d={});"undefined"===typeof e&&(e={});"undefined"===typeof k&&(k="");"undefined"===typeof r&&(r={});c.call(this,r.apiName||b.split(".")[0]+"."+a,r);this.methodName=a;this.jsName=b;this.settings=r;r.defaultParams=d||{};r.defaultPopupParams=e||{};r.requiredParams=k||""}
__extends(d,c);d.prototype.run=function(b){var d=this;c.prototype.run.call(this,b);b=a.utils.object.clone(b);this.prepareParameters(b);this.preprocessRequest(b,function(){var c=d.getPluginJsUrl(b),f=b.containerID;if(d.settings.ignoreContainerId)f=b.containerID="";else if(null==b.containerID&&!d.settings.allowPopup||b.containerID&&!document.getElementById(b.containerID)){a.events.dispatchInvalidParamError(b,"containerID");return}b.source?b.isPopup=!1:d.setSourceData(b);var e=d.settings.allowPopup&&
(!f||b.isPopup);d.setDefaultParams(b);d.settings.allowPopup||e||a.utils.DOM.clearByID(f);if(d.validateRequiredParams(b)){d.settings.dontLoadPluginsCore||d.loadPluginsCore();a.utils.script.load(c,null,null,!0);var k=function(){d.prepareContainer(b,e,function(){d.startPlugin(b)})};a.utils.queue.queueForExecution("UI",function(){!1==b.waitForDebug?k():a.utils.queue.queueForExecution("debug",k)})}})};d.prototype.startPlugin=function(b){var c=this;a.utils.script.load(this.getPluginJsUrl(b),null,function(){a.events.global.dispatch({eventName:"beforePluginReqwuest",
methodName:c.methodName,params:b},b);a.log.logCall(c.methodName,b);a.reports.reportLoad(c.methodName,b);a.utils.functions.callFunction("gigya."+c.jsName+"."+c.methodName,[b,b,b])},!0)};d.prototype.setSourceData=function(a){a.source="socialize.showSimpleShareUI"==this.methodName?"socialize.showShareUI":this.methodName;if(!a.sourceData&&k[this.methodName]){for(var b={},c,d=0;d<k[this.methodName].length;d++){var f=k[this.methodName][d];null!=a[f]&&(c=!0,b[f]=a[f])}c&&(a.sourceData=b)}a.pluginsStack||
(a.pluginsStack=[]);a.pluginsStack.push({source:this.methodName});a.lastSource=this.methodName};d.prototype.loadPluginsCore=function(){b||(a.utils.queue.hold("pluginsJS","UI"),a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.min.js",null,function(){b=!0;a.utils.queue.release("pluginsJS","UI")},!0))};d.prototype.getPluginJsUrl=function(b){var c=a.thisScript.base+"/js/gigya.services."+this.jsName+".min.js";b.lang&&(c+="?lang="+b.lang);return c};d.prototype.validateRequiredParams=
function(b){for(var c=this.settings.requiredParams.split("|"),d=0;d<c.length;d++){var f=c[d];if(""!=f&&(null==b[f]||""==b[f]))return a.events.dispatchInvalidParamError(b,f),!1}return!0};d.prototype.setDefaultParams=function(a){var b=!a.containerID||a.isPopup,c;for(c in this.settings.defaultParams)null==a[c]&&(a[c]=b&&this.settings.defaultPopupParams[c]?this.settings.defaultPopupParams[c]:this.settings.defaultParams[c]);if(b)for(c in this.settings.defaultPopupParams)a[c]||(a[c]=this.settings.defaultParams[c])};
d.prototype.prepareParameters=function(b){for(var c in b)-1!=c.toLowerCase().indexOf("provider")&&"string"==typeof b[c]&&(b[c]=a._.providers.replaceProviderAliases(b[c]));b.lang||(b.lang=a.thisScript.lang.langCode)};d.prototype.prepareContainer=function(b,c,d){var f=this;if(document.body){var e=b.containerID;c&&(e=a.utils.DOM.getCenteredDivID(this.methodName),b.newPopup&&(e+=(new Date).getTime()),b.containerID=e,b.isPopup=!0,document.getElementById(e)||a.utils.DOM.createTopLevelDiv(e));var k=document.getElementById(e);
k||(a.events.dispatchInvalidParamError(b,"containerID"),d());var p=this.getPluginJsUrl(b),q=k.Reqs?k.Reqs:k.Reqs=[],t=q.length+"@"+p+"@"+e;b.rid=t;q[q.length]={rid:t,servicedBy:p,container:k,method:this.methodName,context:b.context,c:b,p:b,i:b,operation:this.methodName,isHTML:!0};if(k&&k.style){k.style.display="";k.style.visibility="";if(e=document.getElementById("gigya_ifr_"+e))e.style.display="",e.style.visibility="";null!=e&&(a.utils.DOM.setSize(e,b.width,b.height,c),e.style.visibility="visible");
a.utils.DOM.setSize(k,b.width,b.height,c)}e=this.methodName.split(".").pop();k.setAttribute&&k.setAttribute("gigid",(b.source&&b.source!=e?b.source+"_":"")+e);d()}else window.setTimeout(function(){f.prepareContainer(b,c,d)},200)};return d}(c.BaseApi);c.UiApi=e})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){function c(b,f,d,g){f||(f="socialize");a[f]||(a[f]={});a[f].plugins||(a[f].plugins={});a[f].plugins[d]||(a[f].plugins[d]={instances:[]});var h=a[f].plugins[d];h[g]||(h[g]=function(a){a=new b(a,"gigya."+f+".plugins."+d+".instances["+h.instances.length+"]");h.instances.push(a)})}b.attachPlugin=c;a.utils.functions.createAlias("gigya.attachPlugin",c)})(c.UI||(c.UI={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){a.socialize.addEventHandlers=function(){for(var b=0;b<arguments.length-0;b++);var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.namespace?b.namespace:"socialize",e;for(e in b)0==e.indexOf("on")&&a.events.global.add(e,b[e],b.listenerType,b.context,c);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",errorCode:0,errorMessage:"",operation:"addEventHandlers",context:b.context})};a.accounts.addEventHandlers=function(){for(var b=0;b<arguments.length-
0;b++);b=a.utils.object.merge([arguments,{namespace:"accounts"}]);a.socialize.addEventHandlers(b)};a.socialize.isLoggedIn=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.socialize.getUserInfo(b,{callback:function(c){var e=c.user,e={loggedIn:e?a.utils.validation.isExplicitTrue(e.isLoggedIn):!1};a.utils.object.extractProperties(c,e,"status|statusMessage|callId|errorCode|errorMessage|errorDetails|context");b.callback&&b.callback(e)}})};a.socialize.waitForService=function(){var b=
a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.service;c&&(c=c.toLowerCase(),"fbconnect"==c||"facebook"==c)&&(c=b.callback,a.external.facebook.isLoaded()?c({context:b.context}):a.socialize.addEventHandlers({listenerType:"component"},{onFacebookLoaded:c,context:b.context}))};a.socialize._injectFBC=function(){a.utils.queue.queueForExecution("API",function(){a.utils.functions.invokeOnPageLoad(a.external.facebook.load)})};var b={facebook:{w:640,h:370},twitter:{w:880,h:585},messenger:{w:710,
h:905},linkedin:{w:560,h:500},yahoobookmarks:{w:840,h:975},digg:{w:1010,h:1045},delicious:{w:890,h:905},googlebookmarks:{w:710,h:905},mixi:{w:640,h:470},googleplus:{w:496,h:420}};a.socialize.postBookmark=function(){var c=a.utils.object.merge([a.thisScript.globalConf,arguments]);c.APIKey||(c.APIKey=a.thisScript.APIKey);var d={};a.utils.object.extractProperties([c],d,a._.postBookmarkSchema);d.sdk="js_"+a.build.version;if(!d.URL&&!d.url&&d.userAction&&!d.userAction.linkBack)for(var e=document.getElementsByTagName("meta"),
h=0;h<e.length;h++)if("og:url"==e[h].getAttribute("property")&&e[h].getAttribute("content")){d.URL=e[h].getAttribute("content");break}d.URL||d.url||!d.userAction||d.userAction.linkBack||(d.URL=document.location.href);delete d.context;d.provider||(d.provider="");d.providerKey||"facebook"==d.provider.toLowerCase()&&(d.providerKey=a.external.opengraph.getMetaTag("fb:app_id"));var e=a.utils.keyValue.serialize(d),h=b[d.provider.toLowerCase()],k=c.enablePopupLocation?"location=1,toolbar=1":null;h&&h.w&&
h.h&&(k=(c.enablePopupLocation?"location=1,toolbar=1,":"toolbar=0,")+"menubar=0,resizable=1,scrollbars=1,width="+h.w+",height="+h.h);a.log.logCall("postBookmark",d);a.utils.win.open(a.utils.stringUtils.format("https://socialize.{0}/gs/bookmark.aspx?{1}",a.partnerSettings.plugins.apiDomain,e),"gs_bookmark_"+d.provider,k)};a.socialize.refreshUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]),c=b.callback;a.socialize.getUserInfo(b,{callback:function(e){var h={eventName:"login",
isInternal:!0};b.provider&&(h.provider=b.provider);a._.addUserInfoToEvent(e,h,!0);b.context&&(h.context=b.context);a.events.global.dispatch(h);"function"==typeof c&&c(e)}})};var k={"digg.com":"digg","stumbleupon.com":"stumbleupon","delicious.com":"delicious","technorati.com":"technorati","t.co":"twitter","plus.url.google.com":"googlePlus","facebook.com":"facebook","linkedin.com":"linkedIn","pinterest.com":"pinterest"},e;a.socialize.trackReferrals=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]),c={},g={};-1!=document.location.href.indexOf("#")&&(g=a.utils.keyValue.deserialize(document.location.href.split("#")[1]));-1!=document.location.href.indexOf("?")&&(c=a.utils.keyValue.deserialize(document.location.href.split("?")[1].split("#")[0]));g.guid&&"_"!=g.guid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,g.guid);var h=g._giguuid||c._giguuid;h&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,h);if(null==g._gus&&null==c._gus){if(!e){var m,g={url:document.location.href,ref:document.referrer};
c.fb_ref?(m=a.utils.keyValue.deserialize(c.fb_ref,":"),g.uuid=m.uu,g.sn=m.p,m=m.s):document.referrer&&-1!=document.referrer.indexOf("://")&&(c=document.referrer.split("://")[1].split("/")[0],0==c.indexOf("www.")&&(c=c.split("www.")[1]),k[c]&&(g.sn=k[c]));g.sn||document.referrer&&(-1!=document.referrer.indexOf("http://soc.li")||-1!=document.referrer.indexOf("https://shr.gs"))||(c=document.location.href.split("#guid="),1<c.length&&(c=c[1].split("#")[0].split("&")[0],c!=a._.apiAdapter.getTokenParam(b.APIKey,
"UUID")&&(g.sn="AddressBarShares",g.uuid=c,"_"==c&&delete g.uuid,document.location.replace("#"),a.reports.trackAddressBarShares(),g.url=document.location.href.split("#")[0])));g.uuid&&a.utils.cookie.set("_gigRefUid_"+b.APIKey,g.uuid);g.sn&&a.reports.report("linkback",b.APIKey,b.cid,m,null,g);e=!0}"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"trackReferrals",context:b.context,errorMessage:"",errorCode:0})}};a.socialize.hideUI=function(){var b=a.utils.object.merge([a.thisScript.globalConf,
arguments]);"function"==typeof b.callback&&b.callback({status:"OK",statusMessage:"",operation:"hideUI",context:b.context,errorMessage:"",errorCode:0})};a.gcs.submitUserForm=function(){var b={},c=a.utils.object.merge([a.thisScript.globalConf,arguments]),e=document.getElementById(c.form);if(!e){var h=document.getElementsByName(c.form);h&&0<h.length&&(c.form=h[0])}for(h=0;h<e.elements.length;h++){var k=e.elements[h];if(k.name){for(var n=k.name.split("."),l=b,r=0;r<n.length-1;r++){var p=n[r];l[p]||(l[p]=
{});l=l[p]}l[n[n.length-1]]=k.value}}c.data=b;a.gcs.setUserData(c)};a.socialize.getProviderShareCounts=function(){var b=a.utils.object.merge([a.thisScript.globalConf,arguments]);a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.shareCounts.min.js",null,function(){a.socialize.plugins.shareCounts.getProviderShareCounts(b)},!0)}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){c.defaultApiSchema="APIKey|cid|oauth_token|source|sourceData|usePost|refUID|fb_UID|fb_at|fb_exp";c.defaultOauthSchema="temporary_account|authFlow|connectWithoutLogin|provider|redirectMethod|redirect_uri|pendingRegistration|lang|regSource|extraPermissions|sessionExpiration|forceAuthentication|includeiRank|includeAllIdentities|extraFields|enabledProviders|disabledProviders|signIDs|openIDUsername|openIDURL|openIDProviderLogo|openIDProviderName|finalizeRegistration|include|actionAttributes|profileAttributes|googlePlayAppID|bp_channel_url|loginIfExists|includeUserInfo|redirectURL|authCodeOnly|enablePopupLocation";
c.postBookmarkSchema="provider|URL|url|title|description|target|cid|APIKey|shortURLs|source|sourceData|providerKey|thumbnailURL|tags|userAction|[providerCapability=actions]UserAction|actionAttributes";c.loginMethods={"socialize.login":1,"socialize.addConnection":1,"socialize.notifyLogin":1,"socialize.linkAccounts":1,"accounts.login":1,"accounts.socialLogin":1,"accounts.linkAccounts":1,"accounts.register":1,"accounts.finalizeRegistration":1};c.logoutMethods={"socialize.logout":1,"accounts.logout":1,
"socialize.deleteAccount":1,"socialize.unlinkAccounts":1};c.arApiList=[new c.ServerApi("socialize.login",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.ServerApi("socialize.addConnection",c.defaultOauthSchema,!1,{oauth:!0},{forceHttps:!0}),new c.ServerApi("socialize.requestPermissions",c.defaultOauthSchema,!1,{oauth:!0},{requiresSession:!0}),new c.ServerApi("accounts.socialLogin",c.defaultOauthSchema,!1,{oauth:!0},{clearSession:!0,forceHttps:!0}),new c.UiApi("showDebugUI",
"socialize.plugins.debug",{},{},"",{allowPopup:!0}),new c.UiApi("showRatingUI","comments.plugins.rating",{showReadReviewsLink:!0,showCommentButton:!0,includeRatingsDims:!0}),new c.UiApi("showCommentsUI","comments.plugins.comments",{width:500},{},"",{preprocessor:function(b,c){2==b.version&&a.utils.browser.isModern()?a.comments.showCommentsUI2(b):c()}}),new c.UiApi("showCommentsUI","comments.plugins.comments2",{width:500},{},"",{apiName:"comments.showCommentsUI2"}),new c.UiApi("showShareUI","socialize.plugins.share",
{width:520,height:320},{width:595,height:324},"userAction",{allowPopup:!0,preprocessor:function(b,k){var e=b.operationMode;e&&(e=e.toLowerCase().replace(/ /g,""));b.containerID||(delete b.width,delete b.height);c.apiAdapter.isSessionValid(b,function(c){"simpleshare"==e||"autodetect"==e&&!c?a.socialize.showSimpleShareUI(b):k()})}}),new c.UiApi("showLoginUI","socialize.plugins.login",{width:120,height:110},{width:280,height:220},"",{allowPopup:!0}),new c.UiApi("showAddConnectionsUI","socialize.plugins.login",
{width:110,height:65},{width:250,height:200},"",{allowPopup:!0}),new c.UiApi("showFriendSelectorUI","socialize.plugins.friendSelector",{width:400,height:360},{},"",{allowPopup:!0}),new c.UiApi("showFeedUI","socialize.plugins.newsfeed",{width:304,height:265}),new c.UiApi("showChatUI","chat.plugins.chat",{width:300,height:450},{},"",{preprocessor:function(a,c){a.site&&(a.categoryID=a.site);a.stream&&(a.streamID=a.stream);a.skin&&(a.skinID=a.skin);a.streamID=a.streamID||0;c()}}),new c.UiApi("showEditConnectionsUI",
"socialize.plugins.edit",{width:310,height:250},{width:310,height:310},"",{allowPopup:!0}),new c.UiApi("showShareBarUI","socialize.plugins.reactions",{shareCountCacheTimeout:3E5},{},"userAction|shareButtons"),new c.UiApi("showReactionsBarUI","socialize.plugins.reactions",{},{},"userAction|barID|reactions",{preprocessor:function(a,c){a.barID||(a.barID=a.itemID);c()}}),new c.UiApi("showMiniShareUI","socialize.plugins.minishare",{width:320,height:153},{},"",{allowPopup:!0}),new c.UiApi("showFollowBarUI",
"socialize.plugins.followbar",{},{},"buttons"),new c.UiApi("showBookmarkUI","socialize.plugins.bookmark",{width:310,height:250},{width:310,height:310}),new c.UiApi("showSimpleShareUI","socialize.plugins.simpleShare",{width:280,height:175},{},"userAction",{allowPopup:!0,dontLoadPluginsCore:!0}),new c.UiApi("showShareMobileUI","socialize.plugins.shareMobile",{},{},"userAction",{allowPopup:!0}),new c.UiApi("showUserStatusUI","gm.plugins.userStatus",{width:300,hidePoints:!1,hideActions:!1},{},"",{requireSession:!0}),
new c.UiApi("showAchievementsUI","gm.plugins.achievements",{width:300,height:100,excludeChallenges:"_default"}),new c.UiApi("showChallengeStatusUI","gm.plugins.achievements",{width:300,height:100,challenge:"_default"}),new c.UiApi("showLeaderboardUI","gm.plugins.leaderboard",{width:300},{},"",{preprocessor:function(a,c){a&&a.height&&(a.height=null);c()}}),new c.UiApi("showNotifications","gm.plugins.notifications",{},{},"",{preprocessor:function(b,c){var e=a.utils.localStorage.getObject("gmSettings");
e&&e.disableNotifications||(b.containerID="gigNotifications",document.getElementById(b.containerID)||(e=document.createElement("div"),e.id=b.containerID,e.style.position="absolute",e.style.left="-1000px",a.utils.DOM.appendToBody(e)),c())}}),new c.UiApi("showTfaUI","accounts.plugins.tfa",{width:325}),new c.UiApi("showScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("hideScreenSet","accounts.plugins.screenSet",{},{},"",{allowPopup:!0}),new c.UiApi("switchScreen","accounts.plugins.screenSet",
{},{},"",{allowPopup:!0}),new c.ServerApi("socialize.getAvailableProviders","enabledProviders|disabledProviders|requiredCapabilities"),new c.ServerApi("socialize.notifyLogin","siteUID|UIDTimestamp|UIDSig|UIDNonce|provider|authToken|tokenSecret|regSource|tokenExpiration|sessionHandle|sessionHandleExpiration|userInfo|providerSessions|sessionExpiration|authCode|includeAllIdentitiesincludeiRank|group|settings|extraFields|signIDs|newUser|actionAttributes|profileAttributes|bp_channel_url",!1,void 0,{forceHttps:!0,
clearSession:!0}),new c.ServerApi("socialize.shortenURL","URL"),new c.ServerApi("socialize.convertAction","userAction|[providerCapability=actions]UserAction|provider"),new c.ServerApi("socialize.getReactionsCount","barID|buttonIDs|reportLoad"),new c.ServerApi("socialize.incrementReactionsCount","barID|buttonID|count|actionAttributes|profileAttributes"),new c.ServerApi("socialize.deleteAccount",void 0,!0),new c.ServerApi("socialize.delUserSettings","group|settings",!0),new c.ServerApi("socialize.getAlbums",
"type|enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getContacts","enabledProviders|disabledProviders",!0),new c.ServerApi("socialize.getFriendsInfo","enabledProviders|disabledProviders|detailLevel|UIDs|siteUsersOnly|requiredCapabilities|signIDs",!0),new c.ServerApi("socialize.getPhotos","enabledProviders|disabledProviders|albumIDs|tags",!0),new c.ServerApi("socialize.getRawData","provider|UID|fields|dataFormat",!0),new c.ServerApi("socialize.getSessionInfo","provider|paddingMode|encrypt|signIDs|encryptAll",
!0),new c.ServerApi("socialize.getUserInfo","enabledProviders|disabledProviders|signIDs|includeiRank|includeAllIdentities|extraFields|group|settings|includeOpenidUID",!0),new c.ServerApi("socialize.getUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.getPlaces","enabledProviders|disabledProviders|latitude|longitude|query|radius|unifyResults",!0),new c.ServerApi("socialize.checkin","enabledProviders|disabledProviders|placeID|comment|latitude|longitude|actionAttributes|profileAttributes",
!0),new c.ServerApi("socialize.logout","signIDs",!0,{preprocessor:function(b,c){a.partnerSettings.ssoKey&&(b.signIDs=!0);c()}}),new c.ServerApi("socialize.notifyRegistration","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.publishUserAction","userAction|[providerCapability=actions]UserAction|enabledProviders|disabledProviders|target|shortURLs|scope|privacy|feedID|userLocation|tags|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.removeConnection","provider",!0),new c.ServerApi("socialize.sendNotification",
"recipients|body|subject|shortURLs|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setStatus","shortURLs|status|[providerCapability=status]Status|enabledProviders|disabledProviders|userLocation|actionAttributes|profileAttributes",!0),new c.ServerApi("socialize.setUID","siteUID|UIDTimestamp|UIDSig",!0),new c.ServerApi("socialize.setUserSettings","group|settings|regToken",!0,void 0,{forceHttps:!0},"regToken"),new c.ServerApi("socialize.unlinkAccounts",void 0,!0),new c.ServerApi("socialize.getFeed",
"feedID|startTS|endTS|groups|limit|includeUID"),new c.ServerApi("socialize.sendEmail","dontSendEmail|companyName|lang|emails|emailSubject|emailBody|linkBack|senderEmail|senderName|userMsg|shortURLs|userAction|[providerCapability=actions]UserAction|actionAttributes|profileAttributes|captchaTicket",!1,void 0,{forceHttps:!0}),new c.ServerApi("socialize.facebookGraphOperation","graphPath|graphParams|authRequired|method|authType"),new c.ServerApi("socialize.getTopShares","age|tag|limit"),new c.ServerApi("socialize.notifySSOLogin",
"bp_channel_url"),new c.ServerApi("gm.getChallengeStatus","UID|includeChallenges|excludeChallenges|details|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.resetLevelStatus","challenges|actionAttributes|profileAttributes",!0),new c.ServerApi("gm.getTopUsers","challenge|totalCount|friendsCount|includeSelf|period|lang|actionAttributes|profileAttributes"),new c.ServerApi("gm.getChallengeConfig","UID|includeChallenges|excludeChallenges|lang|actionAttributes|profileAttributes|expandActions"),
new c.ServerApi("gm.notifyAction","action|operation|challengeIDs|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.postComment","categoryID|streamID|parentID|guestName|guestEmail|commentText|mediaItems|privacy|feedID|userAction|UserAction|scope|enabledProviders|disabledProviders|shortURLs|commentTitle|ratings|tags|taggedUsers|streamTags|actionAttributes|profileAttributes"),new c.ServerApi("comments.getComments","categoryID|streamID|includeSettings|start|startTS|threadLimit|sort|threaded|threadDepth|includeStreamInfo|includeOpenidUID|includeUID|includeReplies|tags|dataFormat|includeUserOptions|includeUserComments|includeRatingsDims"),
new c.ServerApi("comments.setStreamInfo","categoryID|streamID|streamTitle|streamURL|streamInfoSig|streamTags"),new c.ServerApi("comments.getTopStreams","categoryID|limit|maxStreamAge|includeLastComment|streamTag|minRatingsCount"),new c.ServerApi("comments.getTopRatedStreams","categoryID|limit|maxStreamAge|ratingClass|minRatingsCount|streamTag"),new c.ServerApi("comments.getStreamInfo","categoryID|streamID|streamIDs|includeLastComment|includeRatingsDims"),new c.ServerApi("comments.flagComment","categoryID|streamID|commentID|actionAttributes|profileAttributes"),
new c.ServerApi("comments.vote","categoryID|streamID|commentID|vote|actionAttributes|profileAttributes",!0),new c.ServerApi("comments.getUserVotes","categoryID|streamID",!0),new c.ServerApi("comments.getUserComments","categoryID|streamID|tag|senderUID|start|limit|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getFriendsComments","categoryID|streamID|start|limit|includeUID|sort|includeReplies|includeStreamInfo",!0),new c.ServerApi("comments.getThread","categoryID|streamID|commentID|start|includeUID|limit|threadDepth|sort"),
new c.ServerApi("comments.deleteComment","categoryID|streamID|commentID",!0),new c.ServerApi("comments.getRelatedUsers","categoryID|streamID|parentCommentID|usernamePrefix|limit"),new c.ServerApi("comments.analyzeMediaItem","categoryID|urls"),new c.ServerApi("comments.subscribe","categoryID|streamID|email|lang"),new c.ServerApi("comments.unsubscribe","categoryID|streamID|unsubscribeToken"),new c.ServerApi("comments.setUserOptions","replyNotifications|notificationsEmail|notificationsLanguage",!0),
new c.ServerApi("comments.getUserOptions","ServerApiKey",!0),new c.ServerApi("gcs.getUserData","type|fields",!0),new c.ServerApi("gcs.setUserData","data|type|updateBehavior",!0),new c.ServerApi("gcs.search","expTime|querySig|query"),new c.ServerApi("gcs.getSchema","schemaType"),new c.ServerApi("chat.getSettings","categoryID|streamID|skinID"),new c.ServerApi("chat.getMessages","categoryID|streamID|start|includeSettings"),new c.ServerApi("chat.postMessage","categoryID|streamID|messageText|isPrivate|actionAttributes|profileAttributes",
!0),new c.ServerApi("chat.resetChat","categoryID|streamID|timestamp|chatSignature"),new c.ServerApi("chat.blockUser","categoryID|streamID|UID|chatSignature"),new c.ServerApi("chat.deleteMessage","categoryID|streamID|messageId|chatSignature"),new c.ServerApi("accounts.login","loginID|password|sessionExpiration|targetEnv|regToken|include|actionAttributes|profileAttributes|includeUserInfo|includeDynamicSchema|bp_channel_url|captchaToken|captchaText",!1,void 0,{clearSession:!0,forceHttps:!0,forcePost:!0}),
new c.ServerApi("accounts.linkAccounts","loginID|password|sessionExpiration|targetEnv|include|regToken|includeUserInfo|bp_channel_url",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.initRegistration","sdk",!1,void 0,{clearSession:!0}),new c.ServerApi("accounts.register","username|email|password|UID|regToken|siteUID|secretQuestion|secretAnswer|regSource|profile|data|captchaText|captchaToken|lang|hashedPassword|pwHashAlgorithm|skipVerification|finalizeRegistration|targetEnv|sessionExpiration|include|actionAttributes|profileAttributes|includeUserInfo|bp_channel_url",
!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.finalizeRegistration","regToken|targetEnv|include|includeUserInfo|bp_channel_url"),new c.ServerApi("accounts.captchaImage","regToken"),new c.ServerApi("accounts.importProfilePhoto","regToken|URL|publish"),new c.ServerApi("accounts.resetPassword","lang|loginID|passwordResetToken|secretAnswer|securityFields|newPassword|email",void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("accounts.isAvailableLoginID","loginID"),new c.ServerApi("accounts.resendVerificationCode",
"regToken|email"),new c.ServerApi("accounts.getCaptcha",""),new c.ServerApi("accounts.getPolicies","sections"),new c.ServerApi("accounts.getSchema","sections|schemaType"),new c.ServerApi("accounts.getAccountInfo","include|extraProfileFields|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.setAccountInfo","profile|data|regToken|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0},
"regToken"),new c.ServerApi("accounts.logout","signIDs",!0,{preprocessor:function(b,c){a.partnerSettings.ssoKey&&(b.signIDs=!0);c()}}),new c.ServerApi("accounts.search","expTime|querySig|query"),new c.ServerApi("accounts.getScreenSets","screenSetIDs|include"),new c.ServerApi("accounts.incrementCounters","counters",!0,{preprocessor:function(a,c){var e=a.actionCounterPath,f=a.counters;if(e&&f)for(var d=0;d<f.length;d++){var g=f[d];"object"!=typeof g||g.path||(g.path=e)}c()}}),new c.ServerApi("accounts.getCounters",
"counters",!0),new c.ServerApi("accounts.tfa.getProviders","regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.initTFA","provider|mode|regToken",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.finalizeTFA","gigyaAssertion|providerAssertion|tempDevice|regToken",!0,{},{},"regToken"),new c.ServerApi("accounts.tfa.deactivateProvider","provider",!0),new c.ServerApi("accounts.tfa.unregisterDevice","allDevices",!0),new c.ServerApi("accounts.tfa.phone.getRegisteredPhoneNumbers","gigyaAssertion",
!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.removePhone","gigyaAssertion|phoneId",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.sendVerificationCode","gigyaAssertion|lang|phoneID|phone|method",!1,{},{forceHttps:!0}),new c.ServerApi("accounts.tfa.phone.completeVerification","gigyaAssertion|phvToken|code",!1,{},{forceHttps:!0}),new c.ServerApi("ds.store","type|data|oid|updateBehavior"),new c.ServerApi("ds.get","type|data|oid|fields"),new c.ServerApi("ds.search","expTime|querySig|query"),
new c.ServerApi("ds.getSchema",""),new c.ServerApi("ds.delete","type|oid|fields"),new c.ServerApi("ids.getAccountInfo","include|extraProfileFields",!0),new c.ServerApi("ids.setAccountInfo","profile|data|oldPassword|password|newPassword|addLoginEmails|removeLoginEmails|username|secretQuestion|secretAnswer|requirePasswordChange",!1,void 0,{forceHttps:!0,forcePost:!0}),new c.ServerApi("ids.search","expTime|querySig|query")];a.utils.functions.createAlias("gigya.socialize.showChatUI",a.chat.showChatUI);
a.utils.functions.createAlias("gigya.socialize.showCommentsUI",a.comments.showCommentsUI);a.utils.functions.createAlias("gigya.socialize.showRatingUI",a.comments.showRatingUI);a.utils.functions.createAlias("gigya.services.socialize",a.socialize);a.utils.functions.createAlias("gigya.services.gcs",a.gcs);a.utils.functions.createAlias("gigya.services.gm",a.gm);a.utils.functions.createAlias("gigya.services.comments",a.comments);a.utils.functions.createAlias("gigya.services.accounts",a.accounts);a.utils.functions.createAlias("gigya.socialize.connect",
a.socialize.addConnection);a.utils.functions.createAlias("gigya.socialize.disconnect",a.socialize.removeConnection);a.utils.functions.createAlias("gigya.socialize.linkAccounts",a.socialize.setUID);a.utils.functions.createAlias("gigya.socialize.showConnectUI",a.socialize.showAddConnectionsUI);a.utils.functions.createAlias("gigya.socialize.showNewsfeedUI",a.socialize.showFeedUI);a.utils.functions.createAlias("gigya.showDebugUI",a.socialize.showDebugUI)})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){function c(){if("undefined"!=typeof FB){var d=function(c){b.initializedTime=new Date;b.isConnected="connected"==c.status;b.isLoggedIn="unknown"!=c.status;a.events.global.dispatch({eventName:"FBCRefreshed"})};a.fbAppID&&FB&&FB.getLoginStatus&&FB.getLoginStatus(d,!0)}}function e(){for(var a=f,b=0;b<a.length;b++)a[b]();f=[]}var f=[];b.initializedTime;b.isLoggedIn=!1;b.isConnected=!1;b.isLoaded=function(){return null!=b.initializedTime};b.load=function(d){if(!b.initializedTime){b.initializedTime=
null;window.setInterval(function(){a.external.facebook.refreshSession()},27E5);window.fbAsyncInit=function(){var e=a.utils.object.clone(a.thisScript.globalConf.facebookInitParams);e||(e={});a.fbAppID&&(e.appId=a.fbAppID);e.status=!1;e.cookie=!0;e.xfbml=!0;e.oauth=!0;FB.init(e);!0!=d?FB.getLoginStatus(function(d){b.initializedTime=new Date;b.isConnected="connected"==d.status;b.isLoggedIn="unknown"!=d.status;a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:b.isLoggedIn,isConnected:b.isConnected});
a.socialize.addEventHandlers({listenerType:"component"},{listenerDescription:"listener for updating Facebook Connect session",onLogin:function(){c()},onConnect:function(){c()},onLogout:function(){c()}})},!0):(b.initializedTime=new Date,a.events.global.dispatch({eventName:"facebookLoaded",isLoggedIn:b.isLoggedIn,isConnected:b.isConnected}))};var e=document.createElement("div");e.id="fb-root";a.utils.DOM.appendToBody(e);a.utils.script.load(document.location.protocol+"//connect.facebook.net/"+a.thisScript.lang.full.replace("-",
"_")+"/all.js",null,function(){"none"==document.documentElement.style.display&&(document.documentElement.style.display="")},!0)}};b.refreshSession=c;b.retryPending=e;b.runWhenLoaded=function(a){f.push(a)};b.getParams=function(){var a={};if("undefined"!=typeof FB&&FB.getAuthResponse)try{var b=FB.getAuthResponse();b&&(null!=b.userID&&(a.fb_UID=b.userID),null!=b.accessToken&&(a.fb_at=b.accessToken),null!=b.expiresIn&&(a.fb_exp=b.expiresIn))}catch(c){}return a};b.autoLogin=function(){a.socialize.waitForService({service:"facebook",
callback:function(){a._.apiAdapter.isSessionValid(a.thisScript.globalConf,function(b){var c=a.external.facebook.getParams();!b&&c&&c.fb_at&&a.socialize.notifyLogin({providerSessions:{facebook:{authToken:c.fb_at,tokenExpiresIn:c.fb_exp}}})})}})};a.events.global.add("facebookLoaded",e,"component");a.events.global.add("onFBCRefreshed",e,"component")})(c.facebook||(c.facebook={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(b){b._ready=null;b.executeOnInit=function(b,c){b&&(c||(c=2E3),a.external.backplane.isLoaded()?a.external.backplane.getChannelId()||a.external.backplane._ready?(a.external.backplane._ready=!0,b()):(window.setTimeout(function(){a.external.backplane._ready||(a.external.backplane._ready=!0,b())},c),Backplane(function(){a.external.backplane._ready=!0;b()})):b())};b.isLoaded=function(){return"undefined"!=typeof Backplane};b.getChannelId=function(){if(a.external.backplane.isLoaded())return Backplane.getChannelID()};
b.resetChannel=function(){a.external.backplane.isLoaded()&&Backplane.resetCookieChannel()};a.events.global.add("logout",a.external.backplane.resetChannel)})(c.backplane||(c.backplane={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(a){(function(a){a.getMetaTag=function(a){for(var b=document.getElementsByTagName("meta"),c=0;c<b.length;c++)if(b[c].getAttribute("property")==a&&b[c].getAttribute("content"))return b[c].getAttribute("content")}})(a.opengraph||(a.opengraph={}))})(a.external||(a.external={}))})(gigya||(gigya={}));
(function(a){(function(c){(function(a){a[a.LocalStorageListener=0]="LocalStorageListener";a[a.PostMessage=1]="PostMessage";a[a.Flash=2]="Flash"})(c.MessagingMethod||(c.MessagingMethod={}));c.checkCompleteRegistration=function(b,c,e){var f,d;if(!c.dontHandleScreenSet&&(206001==b.errorCode||403043==b.errorCode||206002==b.errorCode||206003==b.errorCode||403101==b.errorCode||403102==b.errorCode||403110==b.errorCode||403100==b.errorCode)){var g;403110==b.errorCode&&(g=d=!0);c.defaultMobileRegScreenSet&&
a.localInfo.isMobile?f=c.defaultMobileRegScreenSet:c.defaultRegScreenSet&&(f=c.defaultRegScreenSet)}f?a.accounts.showScreenSet({newPopup:g,initialResponse:b,screenSet:f,onHide:function(a){"finished"===a.reason&&a.user?e({errorCode:0,userInfo:a.user},!0,d):e(b)}}):e(b)};c.getGigyaSettings=function(b){var c=a.utils.localStorage.getItem("gigyaSettings");try{c=a.utils.JSON.deserialize(c)}catch(e){c={}}c||(c={});return a.utils.JSON.serialize(c[b])};c.setGigyaSettings=function(b,c){var e=a.utils.localStorage.getItem("gigyaSettings");
try{e=a.utils.JSON.deserialize(e)}catch(f){e={}}e||(e={});e[b]||(e[b]={});for(var d in c)e[b][d]=c[d];a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(e))};c.delGigyaSettings=function(b,c){if(b){var e=a.utils.localStorage.getItem("gigyaSettings");e&&(e=a.utils.JSON.deserialize(e),delete e[b],a.utils.localStorage.setItem("gigyaSettings",a.utils.JSON.serialize(e)))}else a.utils.localStorage.removeItem("gigyaSettings")};c.handleSpecialFields=function(b){var c=a.socialize.Collection,
e=function(b,c){for(var d=[],e=0,f=b[e];f;)d.push(new c(f)),d[e].identities&&a._.convertIdentitiesArrayToObject(d[e]),f=b[++e];return d};b.photos&&(b.photos=new c(b.photos,""));b.albums&&(b.albums=new c(b.albums,""));b.contacts&&(b.contacts=new c(e(b.contacts,a.socialize.Contact),"email"));b.friend&&(b.friend=new c(e(b.friend,a.socialize.Friend),"UID"));b.user&&(b.user=new a.socialize.User(b.user));if(b.friends&&b.friends instanceof Array){for(var f=[],d=0;d<b.friends.length;d++)f.push(b.friends[d].UID);
b.UIDs=f.join(",");b.friends=new c(e(b.friends,a.socialize.Friend),"UID")}};c.convertIdentitiesArrayToObject=function(b){if(null==b.identities)b.identities={};else if(b.identities.constructor==Array){var c=b.identities;b.identities={};for(var e=0;e<c.length;e++)b.identities[c[e].provider]=new a.socialize.Identity(c[e])}};c.addUserInfoToEvent=function(b,c,e,f){f=b.user||b.userInfo;null==c&&(c={});null!=f&&(c.user=a.utils.object.clone(f),null!=b.isLoggedIn&&(c.user.isLoggedIn=b.isLoggedIn),null!=b.isSiteUID&&
(c.user.isSiteUID=b.isSiteUID),null!=b.iRank&&(c.user.iRank=b.iRank));e&&(a.utils.object.extractProperties(b,c,"signature|UIDSig|timestamp|UIDSignature|signatureTimestamp|UID"),null!=c.user&&(c.UID=f.UID,c.isSiteUID=f.isSiteUID));return c};c.sendEmailNative=function(b){var c=b.userAction||{};document.location.href="mailto:?to=&subject="+(c.title||"")+"&body="+(c.linkBack||"");a.socialize.sendEmail(b,{dontSendEmail:!0})}})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.showConfig()},!0)}c._log=[];c._isEnabled=function(){return"1"==a.utils.cookie.get("_gig_dbgConsole_log")};c.addLog=function(b,e){if(a.log._isEnabled()){e=a.utils.object.clone(e,!0,!1,4,null,!0);var f=b;null!=e&&(f+=":"+("object"==typeof e?"\n":"")+a.utils.JSON.serialize(e,!0,!0));c._log.push(f);"object"==typeof console&&console.log(f);null!=document.getElementById("gigya_log")&&
a.log.show&&a.log.show()}};c.logCall=function(b,c,f){f||(f=c.lastSource);a.log.addLog("Calling "+b+(f&&f!=b?" for "+f:"")+(c.source&&f!=c.source?" initiated from "+c.source:"")+" with these params",c)};c.debug=b;c.showLog=function(){a.utils.script.load(a.thisScript.base+"/js/gigya.services.socialize.plugins.log.min.js",null,function(){a.log.show()},!0)};c.show=function(){};c.showConfig=function(){};a.utils.functions.createAlias("gigya.debug",b)})(a.log||(a.log={}))})(gigya||(gigya={}));
var defaultObjects={},defaultObjectsDef={User:"personwithuid+isLoggedIn|false,isConnected|false,isSiteUser|false,identities|{},providers|[],timestamp,UIDSig,UIDSignature,signatureTimestamp,loginProvider,loginProviderUID,capabilities|{}",Friend:"personwithuid+timestamp,friendshipSig,friendshipSignature,signatureTimestamp,timestamp,isSiteUser|false,identities|{}",Identity:"person+isExpiredSession|false,allowsLogin|false,providerUID,provider,isLoginIdentity|false,missingPermissions",Contact:"provider,firstName,lastName,nickname,email,photoURL",
person:"nickname,photoURL,thumbnailURL,birthDay|0,birthMonth|0,birthYear|0,gender,email,proxiedEmail,country,state,city,zip,firstName,lastName,profileURL,age|0",personwithuid:"person+UID,isSiteUID|false",UserAction:"actorUID,actorNickname,actionName,date|new Date(),targets|[],images|[],actionData1,actionData2,iconURL,title,linkBack,userMessage,description,actionLinks|[],mediaItems|[],subtitle"},createDefaultObject=function(a){var c={};a=defaultObjectsDef[a];-1!=a.indexOf("+")&&(c=createDefaultObject(a.split("+")[0]),
a=a.split("+")[1]);a=a.split(",");for(var b=0;b<a.length;b++){var k="",e=a[b].split("|");if(1<e.length)try{k=gigya.utils.JSON.deserialize(e[1])}catch(f){}c[e[0]]=k||""}return c},_createConstructor=function(a){return function(c){var b=defaultObjects[a],k;for(k in b)this[k]=gigya.utils.object.clone(b[k]);if("object"==typeof c)for(k in c)"function"!=typeof c[k]&&(this[k]=gigya.utils.object.clone(c[k]))}},def;
for(def in defaultObjectsDef)defaultObjects[def]=createDefaultObject(def),gigya.socialize[def]=_createConstructor(def);gigya.socialize.Collection=function(a,c){this.arr=a;this._key=c?c:""};
gigya.socialize.Collection.prototype={asArray:function(){return this.arr},each:function(a){for(var c=0,b=this.arr[c];b;)a(b,c),c++,b=this.arr[c]},getById:function(a){"undefined"==typeof this._hash&&this._buildHash();return(this._hash?this._hash:this.arr)[a]},getSize:function(){return this.arr.length},_buildHash:function(){var a=this._hash={},c=this._key;this.each(function(b,k){a["function"==typeof b[c]?b[c]():b[c]]=b})}};
gigya.socialize.UserAction.prototype={clone:function(){return new gigya.socialize.UserAction(gigya.utils.object.clone(this,!0,!0))},getTemplate:function(){return this.titleTemplate},setTemplate:function(a){this.titleTemplate=a},getActor:function(a){return{UID:this.actorUID,nickname:this.actorNickname}},setActionName:function(a){this.actionName=a;return this},getActionName:function(a){return this.actionName},getTemplateFields:function(){var a=[],c;for(c in this.templateFields)a.push(this.templateFields[c]);
return new gigya.socialize.Collection(a,"fieldName")},setTemplateField:function(a,c,b){this.templateFields[a]={fieldName:a,text:c,href:b};return this},getTemplateField:function(a){return this.templateFields[a]?this.templateFields[a]:null},addTarget:function(a){if("object"==typeof a)return this.targets.push({UID:a.UID,nickname:a.nickname?a.nickname:""}),this;if("string"==typeof a)return this.targets.push({UID:a,nickname:""}),this},addActionLink:function(a,c){this.actionLinks.push({text:a,href:c?c:
""});return this},addMediaItem:function(a){this.mediaItems.push(a);return this},setTitle:function(a){a&&(this.title=a);return this},setLinkBack:function(a){a&&a.toString&&(a=a.toString());a&&(this.linkBack=a);return this},setUserMessage:function(a){this.userMessage=a?a:"";return this},setDescription:function(a){this.description=a?a:"";return this},addImage:function(a,c){this.addMediaItem({type:"image",src:a,href:c})},getImages:function(){return new gigya.socialize.Collection(this.images,"")},getTargets:function(){return new gigya.socialize.Collection(this.targets,
"UID")},setIconURL:function(a){this.iconURL=a;return this},getIconURL:function(){return this.iconURL},getDate:function(){return this.date},setActionData1:function(a){this.actionData1=a;return this},getActionData1:function(a){return this.actionData1},setActionData2:function(a){this.actionData2=a;return this},getActionData2:function(a){return this.actionData2},setSubtitle:function(a){this.subtitle=a;return this},getSubtitle:function(){return this.subtitle}};
(function(a){(function(c){(function(b){function c(a,d){"undefined"===typeof d&&(d=b.arProviders);for(var e=0;e<d.length;e++)if(d[e].name.toLowerCase()==a.toLowerCase())return d[e]}function e(b){b=b.split(",");for(var c=0;c<b.length;c++){var d=b[c];a._.providers._aliases[d]&&(b[c]=a._.providers._aliases[d])}return b.join(",")}function f(a,c){"undefined"===typeof c&&(c=b.arProviders);for(var d=0;d<c.length;d++)if(c[d].ID==a)return c[d]}function d(a,b,c){"undefined"===typeof b&&(b="");"undefined"===
typeof c&&(c=a.arProviders);b=b.toLowerCase();b=b.split(" ").join("").toLowerCase().split(",");b=n(b,c);for(c=0;c<b.length;c++)for(var d=0;d<a.length;d++){var e=a[d];(e=e.name||e.toString())&&(e=e.toLowerCase());e==b[c]&&a.splice(d,1)}return a}function g(a,b){null==b&&(b=[]);for(var c=[],d=0;d<a.length;d++){for(var e=a[d],f=!0,g=0;g<b.length;g++){for(var h=!1,k=0;k<e.arDefaultCapabilities.length;k++)if(e.arDefaultCapabilities[k].toLowerCase()==b[g].toLowerCase()){h=!0;break}if(!h){f=!1;break}}f&&
c.push(e)}return c}function h(){return b.arProviders.concat()}function m(b,d){"undefined"===typeof d&&(d=b.arProviders);b=(""+b).split(" ").join("").toLowerCase();b=e(b);for(var f=(""+b).split(","),f=n(f,d),g=[],h=0;h<f.length;h++){var l=c(f[h],d);null!=l&&-1==a.utils.array.indexOf(g,l)&&g.push(l)}return g}function n(a,c){c||(c=b.arProviders);for(var d=[],e=0;e<a.length;e++)if("*"==a[e])for(var f=0;f<c.length;f++){for(var g=!1,h=0;h<a.length;h++)a[h].toLowerCase()==c[f].name.toLowerCase()&&(g=!0);
g||c[f].explicitOnly||d.push(c[f].name)}else d.push(a[e]);return d}b._aliases={};var l=function(){function a(c,d,e,f,g,h,k){this.ID=c;this.displayName=d;this.width=e;this.height=f;this.explicitOnly=h;this.aliases=k;this.windowOptions="menubar=0,toolbar=0,resizable=1,scrollbars=1,width="+e+",height="+f;this.arDefaultCapabilities=g.split(",");this.name=d.toLowerCase().split(" ").join("").split("!").join("").split("+").join("plus");if(k)for(b._aliases||(b._aliases={}),c=k.split("|"),d=0;d<c.length;d++)b._aliases[c[d]]=
this.name;"messenger"==this.name&&(this.displayName="Microsoft");"customopenid"==this.name&&(this.displayName="OpenID")}a.prototype.toString=function(){return this.name};return a}();b.Provider=l;b.arProviders=[new l(64,"Facebook",650,400,"login,friends,actions,status,photos,places,checkins"),new l(9012,"Twitter",800,440,"login,friends,notifications,actions,status,places,checkins"),new l(72,"Google+",560,600,"login,contacts",!1,"google|googleplus"),new l(9042,"LinkedIn",865,450,"login,friends,status,actions,notifications"),
new l(9803,"Yahoo",500,567,"login,friends,contacts,notifications"),new l(1047,"Messenger",380,540,"login,friends,status,notifications",!1,"messenger|microsoft"),new l(9832,"Instagram",440,420,"login,photos"),new l(9222,"Odnoklassniki",888,425,"login"),new l(9003,"Digg",730,590,"login",!0),new l(9007,"FourSquare",1E3,650,"login,friends,places,checkins"),new l(9809,"Orkut",610,510,"login,friends,status,actions,photos"),new l(8191,"Renren",450,350,"login,friends,status,actions"),new l(8203,"QQ",570,
460,"login,actions"),new l(9821,"Sina",640,380,"login,status,actions"),new l(4228,"Mixi",1E3,720,"login,friends,actions,photos",!0),new l(9830,"Yahoo! JAPAN",980,700,"login,friends,actions",!0),new l(8205,"Spiceworks",640,380,"login",!0),new l(8190,"Kaixin",610,510,"login,friends"),new l(9041,"VKontakte",610,510,"login,friends,photos,status,actions"),new l(9800,"AOL",530,720,"login"),new l(4096,"WordPress",700,540,"login"),new l(256,"Blogger",760,400,"login"),new l(1041,"Hyves",700,540,"login"),new l(16,
"LiveJournal",670,360,"login"),new l(1043,"VeriSign",940,500,"login"),new l(1024,"Typepad",730,590,"login"),new l(4120,"OpenID",730,590,"login"),new l(4218,"Netlog",730,590,"login",!0),new l(4222,"SignOn",870,900,"login",!0),new l(4224,"Orange France",730,590,"login",!0),new l(5002,"Livedoor",970,700,"login",!0),new l(8202,"VZnet",610,510,"login"),new l(9216,"Skyrock",610,510,"login,friends,status",!0),new l(5004,"Fox News",730,590,"login",!0),new l(1051,"PayPal",400,550,"login",!0),new l(9058,"Amazon",
785,510,"login",!0),new l(9219,"Xing",785,510,"login,friends",!0),new l(4121,"Custom OpenID",730,590,"login",!0),new l(6002,"Site",730,590,"",!0)];b.getProviderByName=c;b.replaceProviderAliases=e;b.getProviderById=f;b.hideProvidersByName=d;b.getProvidersForRequiredCapabilities=g;b.getAllProviders=h;b.getProvidersByName=m;b.replaceWildcard=n;a.utils.functions.createAlias("gigya.socialize.getAllProviders",h);a.utils.functions.createAlias("gigya.socialize.replaceProviderAliases",e);a.utils.functions.createAlias("gigya.socialize.getProvidersByName",
m);a.utils.functions.createAlias("gigya.socialize._getProviderByName",c);a.utils.functions.createAlias("gigya.socialize.hideProvidersByName",d);a.utils.functions.createAlias("gigya.socialize._getProviderByID",f);a.utils.functions.createAlias("gigya.socialize.getProvidersForRequiredCapabilities",g)})(c.providers||(c.providers={}))})(a._||(a._={}))})(gigya||(gigya={}));
(function(a){(function(c){function b(c,e,f,d,g,h){"undefined"===typeof h&&(h={});var m=arguments;a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){if(c)if(e||(e=a.thisScript.APIKey),a.utils.queue.isActive("API"))a.utils.queue.waitFor("API",b,m);else{var n=h.actionCounterPath||a.thisScript.globalConf.actionCounterPath,l={sdk:"js",f:"re",e:c,ak:e,cid:f,source:d,sourceData:g,now:(new Date).getTime(),ucid:a._.apiAdapter.getUcid(),actionCounterPath:n};if(h)for(var r in h)l[r]=
h[r];a._.apiAdapter.isSessionValid(h,function(b){b=b?"https":a.thisScript.protocol;"https"!=b||"load"!=c&&"loadc"!=c||n||(b=a.thisScript.protocol);"https"==b&&(l.gcid=a._.apiAdapter.getGcid());b=a.utils.stringUtils.format("{0}://gscounters.{1}/gs/api.ashx?{2}",b,a.partnerSettings.plugins.apiDomain,a.utils.keyValue.serialize(l));var d=document.createElement("img");d.style.position="absolute";d.style.width="1px";d.style.height="1px";d.style.left="-1000px";d.src=b;d.onload=function(){d.parentNode.removeChild(d)};
a.utils.DOM.appendToBody(d)})}},500)},!0)}c.trackAddressBarShares=function(){if(a.thisScript.globalConf.trackAddressBarShares){var b=a._.apiAdapter.getTokenParam(a.thisScript.APIKey,"UUID"),c=document.location.href.split("#");1!=c.length&&""!=c[1]||document.location.replace("#guid="+(b?b:"_"))}};c.report=b;c.reportLoad=function(a,b){if(!b._reportedLoad&&b.containerID){b._reportedLoad=!0;var c="load";"gigya.socialize.plugins.reactions.showReactionsBarUI"!=a&&("gigya.socialize.plugins.simpleshare.showSimpleShareUI"==
a&&(c="loadSimple"),this.report(c,b.APIKey,b.cid,b.source,b.sourceData))}}})(a.reports||(a.reports={}))})(gigya||(gigya={}));
(function(a){a.build||(a.build={version:"",time:""});a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.isGigya||(a.isGigya=!0);a.partnerSettings||(a.partnerSettings={authMode:"cookie",baseDomains:"",plugins:{apiDomain:"us1.gigya.com"}});a.thisScript;var c;(function(b){function c(b){"1"==a.utils.cookie.get("gig_debug")?a.socialize.showDebugUI({ignoreApiQueue:!0,waitForDebug:!1,onLoad:b}):b()}function e(){a.utils.functions.invokeOnPageLoad(function(){"undefined"!=
typeof window.gigya_omniture_conf&&a.utils.script.load(a.thisScript.base+"/js/GenesisExchange_Gigya.min.js")})}function f(){var b=a.partnerSettings.baseDomains;if(b)for(var b=b.split(","),c=0;c<b.length;c++){var d=b[c],e=a.localInfo.pageDomain.indexOf(d);if(0<=e&&e==a.localInfo.pageDomain.length-d.length&&(0==e||"."==a.localInfo.pageDomain.charAt(e-1)))return d}return document.location.href.split("://")[1].split("/")[0]}function d(a){a||(a="en-US");a=a.replace("_","-").toLowerCase();var b=a.split("-"),
c=b[0],b=1<b.length?b[1]:c,b=b.toUpperCase();switch(a){case "es-mx":case "pt-br":case "zh-cn":case "zh-hk":case "zh-tw":case "en-gb":case "te-st":case "fr-inf":case "de-inf":case "es-inf":case "nl-inf":break;default:a=c}return{full:c+"-"+b,langCode:a,countryCode:b}}function g(b){for(var c=document.getElementsByTagName("script"),e,f=c.length-1;0<=f;f--){var h=c[f],k=h.src.toLowerCase();if(""!=k&&(-1<k.indexOf("//cdn.gigya.com")||-1<k.indexOf("//cdns.gigya.com")||-1<k.indexOf("?apikey="))&&(-1<k.indexOf("gigya.js")||
-1<k.indexOf("socialize.js")||-1<k.indexOf("socialize2.js")||-1<k.indexOf("gsjssdk.js"))){e=h;break}}if(e&&!window.__gig_hidescript){var c=e.src.split("/"),f=a.utils.URL.getParamsFromURL(e.src,!0)||{},m;if(""!=e.innerHTML.replace(/^\s+|\s+$/g,""))try{m=a.utils.JSON.deserialize(e.innerHTML),"object"!=typeof m&&(m={})}catch(n){alert("Gigya global configuration object parse error")}a.thisScript={scriptElement:e,protocol:0==e.src.toLowerCase().indexOf("https")?"https":"http",base:c[0]+"//"+c[2],APIKey:f.apikey,
lang:d(f.lang||(m?m.lang:null)),globalConf:a.utils.object.merge([a.partnerSettings.plugins||{},m||{},window.__gigyaConf||{}]),URLParams:f};!a.thisScript.APIKey&&"object"==typeof console&&console.warn?console.warn("**** WARNING - Loading socialize.js without an APIKey parameter is unsupported and may result in an unexpected behavior.  ****"):a.thisScript.globalConf.APIKey=a.thisScript.APIKey;a.thisScript.globalConf.lang=a.thisScript.lang.langCode;b()}else 10>l?(l++,window.setTimeout(function(){g(b)},
200)):(a.thisScript={scriptElement:null,protocol:"http:"==document.location.protocol?"http":"https",base:"https:"==document.location.protocol?"cdns.gigya.com":"cdn.gigya.com",APIKey:"",lang:d(""),globalConf:{},URLParams:{}},b())}function h(b){var d=window.__gigAPIAdapterSettings;d&&"mobile"==d.getAdapterName()&&d.getAPIKey()==a.thisScript.APIKey?a._.apiAdapter=new a._.apiAdapters.mobile.MobileAdapter:a._.apiAdapter=new a._.apiAdapters.web.WebAdapter;a.utils.functions.createAlias("gigya.auth.loginToken.getTokenParam",
a._.apiAdapter.getTokenParam);c(function(){a._.apiAdapter.init(function(){b()})})}function m(){var b=a.utils.URL.getParamsFromURL(document.location.href);b.errorCode&&b.regToken&&a._.checkCompleteRegistration(b,a.thisScript.globalConf,function(){})}function n(){var b=a.localInfo;b.messagingMethod=b.isIE11||b.isIOSChrome?a._.MessagingMethod.LocalStorageListener:b.supportsPostMessage?a._.MessagingMethod.PostMessage:a._.MessagingMethod.Flash}var l=0;(function(){a.utils.queue.hold("bootstrap","API");
a.partnerSettings.baseDomain=f();g(function(){n();a.thisScript.globalConf.customEventMap&&a.events.addMap(a.thisScript.globalConf.customEventMap);h(function(){a.utils.queue.release("bootstrap","API");a.thisScript.globalConf.autoLogin&&a.external.facebook.autoLogin();m();a.reports.trackAddressBarShares();a.utils.functions.invokeOnPageLoad(function(){window.setTimeout(function(){a.socialize.trackReferrals()},1E3)})});e();"function"==typeof onGigyaServiceReady&&onGigyaServiceReady("socialize");a.reports.report("loadc",
a.thisScript.APIKey,null,null,null,{sref:document.referrer})})})()})(c||(c={}))})(gigya||(gigya={}));


} else if (typeof console == 'object' && console.warn) {
console.warn('**** Socialize.js loaded twice ****');
}